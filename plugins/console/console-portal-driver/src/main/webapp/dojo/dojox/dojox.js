/*
	Copyright (c) 2004-2010, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is an optimized version of Dojo, built for deployment and not for
	development. To get sources and documentation, please visit:

		http://dojotoolkit.org
*/

if(!dojo._hasResource["dojox.gfx._base"]){dojo._hasResource["dojox.gfx._base"]=true;dojo.provide("dojox.gfx._base");(function(){var g=dojox.gfx,b=g._base;g._hasClass=function(_1,_2){var _3=_1.getAttribute("className");return _3&&(" "+_3+" ").indexOf(" "+_2+" ")>=0;};g._addClass=function(_4,_5){var _6=_4.getAttribute("className")||"";if(!_6||(" "+_6+" ").indexOf(" "+_5+" ")<0){_4.setAttribute("className",_6+(_6?" ":"")+_5);}};g._removeClass=function(_7,_8){var _9=_7.getAttribute("className");if(_9){_7.setAttribute("className",_9.replace(new RegExp("(^|\\s+)"+_8+"(\\s+|$)"),"$1$2"));}};b._getFontMeasurements=function(){var _a={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,"small":0,"medium":0,"large":0,"x-large":0,"xx-large":0};if(dojo.isIE){dojo.doc.documentElement.style.fontSize="100%";}var _b=dojo.doc.createElement("div");var s=_b.style;s.position="absolute";s.top="-100px";s.left="0px";s.width="30px";s.height="1000em";s.borderWidth="0px";s.margin="0px";s.padding="0px";s.outline="none";s.lineHeight="1";s.overflow="hidden";dojo.body().appendChild(_b);for(var p in _a){_b.style.fontSize=p;_a[p]=Math.round(_b.offsetHeight*12/16)*16/12/1000;}dojo.body().removeChild(_b);_b=null;return _a;};var _c=null;b._getCachedFontMeasurements=function(_d){if(_d||!_c){_c=b._getFontMeasurements();}return _c;};var _e=null,_f={};b._getTextBox=function(_10,_11,_12){var m,s,al=arguments.length;if(!_e){m=_e=dojo.doc.createElement("div");s=m.style;s.position="absolute";s.top="-10000px";s.left="0";dojo.body().appendChild(m);}else{m=_e;s=m.style;}m.className="";s.borderWidth="0";s.margin="0";s.padding="0";s.outline="0";if(al>1&&_11){for(var i in _11){if(i in _f){continue;}s[i]=_11[i];}}if(al>2&&_12){m.className=_12;}m.innerHTML=_10;if(m["getBoundingClientRect"]){var bcr=m.getBoundingClientRect();return {l:bcr.left,t:bcr.top,w:bcr.width||(bcr.right-bcr.left),h:bcr.height||(bcr.bottom-bcr.top)};}else{return dojo.marginBox(m);}};var _13=0;b._getUniqueId=function(){var id;do{id=dojo._scopeName+"Unique"+(++_13);}while(dojo.byId(id));return id;};})();dojo.mixin(dojox.gfx,{defaultPath:{type:"path",path:""},defaultPolyline:{type:"polyline",points:[]},defaultRect:{type:"rect",x:0,y:0,width:100,height:100,r:0},defaultEllipse:{type:"ellipse",cx:0,cy:0,rx:200,ry:100},defaultCircle:{type:"circle",cx:0,cy:0,r:100},defaultLine:{type:"line",x1:0,y1:0,x2:100,y2:100},defaultImage:{type:"image",x:0,y:0,width:0,height:0,src:""},defaultText:{type:"text",x:0,y:0,text:"",align:"start",decoration:"none",rotated:false,kerning:true},defaultTextPath:{type:"textpath",text:"",align:"start",decoration:"none",rotated:false,kerning:true},defaultStroke:{type:"stroke",color:"black",style:"solid",width:1,cap:"butt",join:4},defaultLinearGradient:{type:"linear",x1:0,y1:0,x2:100,y2:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultRadialGradient:{type:"radial",cx:0,cy:0,r:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultPattern:{type:"pattern",x:0,y:0,width:0,height:0,src:""},defaultFont:{type:"font",style:"normal",variant:"normal",weight:"normal",size:"10pt",family:"serif"},getDefault:(function(){var _14={};return function(_15){var t=_14[_15];if(t){return new t();}t=_14[_15]=new Function;t.prototype=dojox.gfx["default"+_15];return new t();};})(),normalizeColor:function(_16){return (_16 instanceof dojo.Color)?_16:new dojo.Color(_16);},normalizeParameters:function(_17,_18){if(_18){var _19={};for(var x in _17){if(x in _18&&!(x in _19)){_17[x]=_18[x];}}}return _17;},makeParameters:function(_1a,_1b){if(!_1b){return dojo.delegate(_1a);}var _1c={};for(var i in _1a){if(!(i in _1c)){_1c[i]=dojo.clone((i in _1b)?_1b[i]:_1a[i]);}}return _1c;},formatNumber:function(x,_1d){var val=x.toString();if(val.indexOf("e")>=0){val=x.toFixed(4);}else{var _1e=val.indexOf(".");if(_1e>=0&&val.length-_1e>5){val=x.toFixed(4);}}if(x<0){return val;}return _1d?" "+val:val;},makeFontString:function(_1f){return _1f.style+" "+_1f.variant+" "+_1f.weight+" "+_1f.size+" "+_1f.family;},splitFontString:function(str){var _20=dojox.gfx.getDefault("Font");var t=str.split(/\s+/);do{if(t.length<5){break;}_20.style=t[0];_20.variant=t[1];_20.weight=t[2];var i=t[3].indexOf("/");_20.size=i<0?t[3]:t[3].substring(0,i);var j=4;if(i<0){if(t[4]=="/"){j=6;}else{if(t[4].charAt(0)=="/"){j=5;}}}if(j<t.length){_20.family=t.slice(j).join(" ");}}while(false);return _20;},cm_in_pt:72/2.54,mm_in_pt:7.2/2.54,px_in_pt:function(){return dojox.gfx._base._getCachedFontMeasurements()["12pt"]/12;},pt2px:function(len){return len*dojox.gfx.px_in_pt();},px2pt:function(len){return len/dojox.gfx.px_in_pt();},normalizedLength:function(len){if(len.length==0){return 0;}if(len.length>2){var _21=dojox.gfx.px_in_pt();var val=parseFloat(len);switch(len.slice(-2)){case "px":return val;case "pt":return val*_21;case "in":return val*72*_21;case "pc":return val*12*_21;case "mm":return val*dojox.gfx.mm_in_pt*_21;case "cm":return val*dojox.gfx.cm_in_pt*_21;}}return parseFloat(len);},pathVmlRegExp:/([A-Za-z]+)|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,pathSvgRegExp:/([A-Za-z])|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,equalSources:function(a,b){return a&&b&&a==b;}});}if(!dojo._hasResource["dojox.gfx.shape"]){dojo._hasResource["dojox.gfx.shape"]=true;dojo.provide("dojox.gfx.shape");dojo.declare("dojox.gfx.Shape",null,{constructor:function(){this.rawNode=null;this.shape=null;this.matrix=null;this.fillStyle=null;this.strokeStyle=null;this.bbox=null;this.parent=null;this.parentMatrix=null;},getNode:function(){return this.rawNode;},getShape:function(){return this.shape;},getTransform:function(){return this.matrix;},getFill:function(){return this.fillStyle;},getStroke:function(){return this.strokeStyle;},getParent:function(){return this.parent;},getBoundingBox:function(){return this.bbox;},getTransformedBoundingBox:function(){var b=this.getBoundingBox();if(!b){return null;}var m=this._getRealMatrix();gm=dojox.gfx.matrix;return [gm.multiplyPoint(m,b.x,b.y),gm.multiplyPoint(m,b.x+b.width,b.y),gm.multiplyPoint(m,b.x+b.width,b.y+b.height),gm.multiplyPoint(m,b.x,b.y+b.height)];},getEventSource:function(){return this.rawNode;},setShape:function(_22){this.shape=dojox.gfx.makeParameters(this.shape,_22);this.bbox=null;return this;},setFill:function(_23){if(!_23){this.fillStyle=null;return this;}var f=null;if(typeof (_23)=="object"&&"type" in _23){switch(_23.type){case "linear":f=dojox.gfx.makeParameters(dojox.gfx.defaultLinearGradient,_23);break;case "radial":f=dojox.gfx.makeParameters(dojox.gfx.defaultRadialGradient,_23);break;case "pattern":f=dojox.gfx.makeParameters(dojox.gfx.defaultPattern,_23);break;}}else{f=dojox.gfx.normalizeColor(_23);}this.fillStyle=f;return this;},setStroke:function(_24){if(!_24){this.strokeStyle=null;return this;}if(typeof _24=="string"||dojo.isArray(_24)||_24 instanceof dojo.Color){_24={color:_24};}var s=this.strokeStyle=dojox.gfx.makeParameters(dojox.gfx.defaultStroke,_24);s.color=dojox.gfx.normalizeColor(s.color);return this;},setTransform:function(_25){this.matrix=dojox.gfx.matrix.clone(_25?dojox.gfx.matrix.normalize(_25):dojox.gfx.matrix.identity);return this._applyTransform();},_applyTransform:function(){return this;},moveToFront:function(){var p=this.getParent();if(p){p._moveChildToFront(this);this._moveToFront();}return this;},moveToBack:function(){var p=this.getParent();if(p){p._moveChildToBack(this);this._moveToBack();}return this;},_moveToFront:function(){},_moveToBack:function(){},applyRightTransform:function(_26){return _26?this.setTransform([this.matrix,_26]):this;},applyLeftTransform:function(_27){return _27?this.setTransform([_27,this.matrix]):this;},applyTransform:function(_28){return _28?this.setTransform([this.matrix,_28]):this;},removeShape:function(_29){if(this.parent){this.parent.remove(this,_29);}return this;},_setParent:function(_2a,_2b){this.parent=_2a;return this._updateParentMatrix(_2b);},_updateParentMatrix:function(_2c){this.parentMatrix=_2c?dojox.gfx.matrix.clone(_2c):null;return this._applyTransform();},_getRealMatrix:function(){var m=this.matrix;var p=this.parent;while(p){if(p.matrix){m=dojox.gfx.matrix.multiply(p.matrix,m);}p=p.parent;}return m;}});dojox.gfx.shape._eventsProcessing={connect:function(_2d,_2e,_2f){return arguments.length>2?dojo.connect(this.getEventSource(),_2d,_2e,_2f):dojo.connect(this.getEventSource(),_2d,_2e);},disconnect:function(_30){dojo.disconnect(_30);}};dojo.extend(dojox.gfx.Shape,dojox.gfx.shape._eventsProcessing);dojox.gfx.shape.Container={_init:function(){this.children=[];},openBatch:function(){},closeBatch:function(){},add:function(_31){var _32=_31.getParent();if(_32){_32.remove(_31,true);}this.children.push(_31);return _31._setParent(this,this._getRealMatrix());},remove:function(_33,_34){for(var i=0;i<this.children.length;++i){if(this.children[i]==_33){if(_34){}else{_33.parent=null;_33.parentMatrix=null;}this.children.splice(i,1);break;}}return this;},clear:function(){this.children=[];return this;},_moveChildToFront:function(_35){for(var i=0;i<this.children.length;++i){if(this.children[i]==_35){this.children.splice(i,1);this.children.push(_35);break;}}return this;},_moveChildToBack:function(_36){for(var i=0;i<this.children.length;++i){if(this.children[i]==_36){this.children.splice(i,1);this.children.unshift(_36);break;}}return this;}};dojo.declare("dojox.gfx.shape.Surface",null,{constructor:function(){this.rawNode=null;this._parent=null;this._nodes=[];this._events=[];},destroy:function(){dojo.forEach(this._nodes,dojo.destroy);this._nodes=[];dojo.forEach(this._events,dojo.disconnect);this._events=[];this.rawNode=null;if(dojo.isIE){while(this._parent.lastChild){dojo.destroy(this._parent.lastChild);}}else{this._parent.innerHTML="";}this._parent=null;},getEventSource:function(){return this.rawNode;},_getRealMatrix:function(){return null;},isLoaded:true,onLoad:function(_37){},whenLoaded:function(_38,_39){var f=dojo.hitch(_38,_39);if(this.isLoaded){f(this);}else{var h=dojo.connect(this,"onLoad",function(_3a){dojo.disconnect(h);f(_3a);});}}});dojo.extend(dojox.gfx.shape.Surface,dojox.gfx.shape._eventsProcessing);dojo.declare("dojox.gfx.Point",null,{});dojo.declare("dojox.gfx.Rectangle",null,{});dojo.declare("dojox.gfx.shape.Rect",dojox.gfx.Shape,{constructor:function(_3b){this.shape=dojox.gfx.getDefault("Rect");this.rawNode=_3b;},getBoundingBox:function(){return this.shape;}});dojo.declare("dojox.gfx.shape.Ellipse",dojox.gfx.Shape,{constructor:function(_3c){this.shape=dojox.gfx.getDefault("Ellipse");this.rawNode=_3c;},getBoundingBox:function(){if(!this.bbox){var _3d=this.shape;this.bbox={x:_3d.cx-_3d.rx,y:_3d.cy-_3d.ry,width:2*_3d.rx,height:2*_3d.ry};}return this.bbox;}});dojo.declare("dojox.gfx.shape.Circle",dojox.gfx.Shape,{constructor:function(_3e){this.shape=dojox.gfx.getDefault("Circle");this.rawNode=_3e;},getBoundingBox:function(){if(!this.bbox){var _3f=this.shape;this.bbox={x:_3f.cx-_3f.r,y:_3f.cy-_3f.r,width:2*_3f.r,height:2*_3f.r};}return this.bbox;}});dojo.declare("dojox.gfx.shape.Line",dojox.gfx.Shape,{constructor:function(_40){this.shape=dojox.gfx.getDefault("Line");this.rawNode=_40;},getBoundingBox:function(){if(!this.bbox){var _41=this.shape;this.bbox={x:Math.min(_41.x1,_41.x2),y:Math.min(_41.y1,_41.y2),width:Math.abs(_41.x2-_41.x1),height:Math.abs(_41.y2-_41.y1)};}return this.bbox;}});dojo.declare("dojox.gfx.shape.Polyline",dojox.gfx.Shape,{constructor:function(_42){this.shape=dojox.gfx.getDefault("Polyline");this.rawNode=_42;},setShape:function(_43,_44){if(_43&&_43 instanceof Array){dojox.gfx.Shape.prototype.setShape.call(this,{points:_43});if(_44&&this.shape.points.length){this.shape.points.push(this.shape.points[0]);}}else{dojox.gfx.Shape.prototype.setShape.call(this,_43);}return this;},_normalizePoints:function(){var p=this.shape.points,l=p&&p.length;if(l&&typeof p[0]=="number"){var _45=[];for(var i=0;i<l;i+=2){_45.push({x:p[i],y:p[i+1]});}this.shape.points=_45;}},getBoundingBox:function(){if(!this.bbox&&this.shape.points.length){var p=this.shape.points;var l=p.length;var t=p[0];var _46={l:t.x,t:t.y,r:t.x,b:t.y};for(var i=1;i<l;++i){t=p[i];if(_46.l>t.x){_46.l=t.x;}if(_46.r<t.x){_46.r=t.x;}if(_46.t>t.y){_46.t=t.y;}if(_46.b<t.y){_46.b=t.y;}}this.bbox={x:_46.l,y:_46.t,width:_46.r-_46.l,height:_46.b-_46.t};}return this.bbox;}});dojo.declare("dojox.gfx.shape.Image",dojox.gfx.Shape,{constructor:function(_47){this.shape=dojox.gfx.getDefault("Image");this.rawNode=_47;},getBoundingBox:function(){return this.shape;},setStroke:function(){return this;},setFill:function(){return this;}});dojo.declare("dojox.gfx.shape.Text",dojox.gfx.Shape,{constructor:function(_48){this.fontStyle=null;this.shape=dojox.gfx.getDefault("Text");this.rawNode=_48;},getFont:function(){return this.fontStyle;},setFont:function(_49){this.fontStyle=typeof _49=="string"?dojox.gfx.splitFontString(_49):dojox.gfx.makeParameters(dojox.gfx.defaultFont,_49);this._setFont();return this;}});dojox.gfx.shape.Creator={createShape:function(_4a){var gfx=dojox.gfx;switch(_4a.type){case gfx.defaultPath.type:return this.createPath(_4a);case gfx.defaultRect.type:return this.createRect(_4a);case gfx.defaultCircle.type:return this.createCircle(_4a);case gfx.defaultEllipse.type:return this.createEllipse(_4a);case gfx.defaultLine.type:return this.createLine(_4a);case gfx.defaultPolyline.type:return this.createPolyline(_4a);case gfx.defaultImage.type:return this.createImage(_4a);case gfx.defaultText.type:return this.createText(_4a);case gfx.defaultTextPath.type:return this.createTextPath(_4a);}return null;},createGroup:function(){return this.createObject(dojox.gfx.Group);},createRect:function(_4b){return this.createObject(dojox.gfx.Rect,_4b);},createEllipse:function(_4c){return this.createObject(dojox.gfx.Ellipse,_4c);},createCircle:function(_4d){return this.createObject(dojox.gfx.Circle,_4d);},createLine:function(_4e){return this.createObject(dojox.gfx.Line,_4e);},createPolyline:function(_4f){return this.createObject(dojox.gfx.Polyline,_4f);},createImage:function(_50){return this.createObject(dojox.gfx.Image,_50);},createText:function(_51){return this.createObject(dojox.gfx.Text,_51);},createPath:function(_52){return this.createObject(dojox.gfx.Path,_52);},createTextPath:function(_53){return this.createObject(dojox.gfx.TextPath,{}).setText(_53);},createObject:function(_54,_55){return null;}};}if(!dojo._hasResource["dojox.gfx.matrix"]){dojo._hasResource["dojox.gfx.matrix"]=true;dojo.provide("dojox.gfx.matrix");(function(){var m=dojox.gfx.matrix;var _56={};m._degToRad=function(_57){return _56[_57]||(_56[_57]=(Math.PI*_57/180));};m._radToDeg=function(_58){return _58/Math.PI*180;};m.Matrix2D=function(arg){if(arg){if(typeof arg=="number"){this.xx=this.yy=arg;}else{if(arg instanceof Array){if(arg.length>0){var _59=m.normalize(arg[0]);for(var i=1;i<arg.length;++i){var l=_59,r=dojox.gfx.matrix.normalize(arg[i]);_59=new m.Matrix2D();_59.xx=l.xx*r.xx+l.xy*r.yx;_59.xy=l.xx*r.xy+l.xy*r.yy;_59.yx=l.yx*r.xx+l.yy*r.yx;_59.yy=l.yx*r.xy+l.yy*r.yy;_59.dx=l.xx*r.dx+l.xy*r.dy+l.dx;_59.dy=l.yx*r.dx+l.yy*r.dy+l.dy;}dojo.mixin(this,_59);}}else{dojo.mixin(this,arg);}}}};dojo.extend(m.Matrix2D,{xx:1,xy:0,yx:0,yy:1,dx:0,dy:0});dojo.mixin(m,{identity:new m.Matrix2D(),flipX:new m.Matrix2D({xx:-1}),flipY:new m.Matrix2D({yy:-1}),flipXY:new m.Matrix2D({xx:-1,yy:-1}),translate:function(a,b){if(arguments.length>1){return new m.Matrix2D({dx:a,dy:b});}return new m.Matrix2D({dx:a.x,dy:a.y});},scale:function(a,b){if(arguments.length>1){return new m.Matrix2D({xx:a,yy:b});}if(typeof a=="number"){return new m.Matrix2D({xx:a,yy:a});}return new m.Matrix2D({xx:a.x,yy:a.y});},rotate:function(_5a){var c=Math.cos(_5a);var s=Math.sin(_5a);return new m.Matrix2D({xx:c,xy:-s,yx:s,yy:c});},rotateg:function(_5b){return m.rotate(m._degToRad(_5b));},skewX:function(_5c){return new m.Matrix2D({xy:Math.tan(_5c)});},skewXg:function(_5d){return m.skewX(m._degToRad(_5d));},skewY:function(_5e){return new m.Matrix2D({yx:Math.tan(_5e)});},skewYg:function(_5f){return m.skewY(m._degToRad(_5f));},reflect:function(a,b){if(arguments.length==1){b=a.y;a=a.x;}var a2=a*a,b2=b*b,n2=a2+b2,xy=2*a*b/n2;return new m.Matrix2D({xx:2*a2/n2-1,xy:xy,yx:xy,yy:2*b2/n2-1});},project:function(a,b){if(arguments.length==1){b=a.y;a=a.x;}var a2=a*a,b2=b*b,n2=a2+b2,xy=a*b/n2;return new m.Matrix2D({xx:a2/n2,xy:xy,yx:xy,yy:b2/n2});},normalize:function(_60){return (_60 instanceof m.Matrix2D)?_60:new m.Matrix2D(_60);},clone:function(_61){var obj=new m.Matrix2D();for(var i in _61){if(typeof (_61[i])=="number"&&typeof (obj[i])=="number"&&obj[i]!=_61[i]){obj[i]=_61[i];}}return obj;},invert:function(_62){var M=m.normalize(_62),D=M.xx*M.yy-M.xy*M.yx,M=new m.Matrix2D({xx:M.yy/D,xy:-M.xy/D,yx:-M.yx/D,yy:M.xx/D,dx:(M.xy*M.dy-M.yy*M.dx)/D,dy:(M.yx*M.dx-M.xx*M.dy)/D});return M;},_multiplyPoint:function(_63,x,y){return {x:_63.xx*x+_63.xy*y+_63.dx,y:_63.yx*x+_63.yy*y+_63.dy};},multiplyPoint:function(_64,a,b){var M=m.normalize(_64);if(typeof a=="number"&&typeof b=="number"){return m._multiplyPoint(M,a,b);}return m._multiplyPoint(M,a.x,a.y);},multiply:function(_65){var M=m.normalize(_65);for(var i=1;i<arguments.length;++i){var l=M,r=m.normalize(arguments[i]);M=new m.Matrix2D();M.xx=l.xx*r.xx+l.xy*r.yx;M.xy=l.xx*r.xy+l.xy*r.yy;M.yx=l.yx*r.xx+l.yy*r.yx;M.yy=l.yx*r.xy+l.yy*r.yy;M.dx=l.xx*r.dx+l.xy*r.dy+l.dx;M.dy=l.yx*r.dx+l.yy*r.dy+l.dy;}return M;},_sandwich:function(_66,x,y){return m.multiply(m.translate(x,y),_66,m.translate(-x,-y));},scaleAt:function(a,b,c,d){switch(arguments.length){case 4:return m._sandwich(m.scale(a,b),c,d);case 3:if(typeof c=="number"){return m._sandwich(m.scale(a),b,c);}return m._sandwich(m.scale(a,b),c.x,c.y);}return m._sandwich(m.scale(a),b.x,b.y);},rotateAt:function(_67,a,b){if(arguments.length>2){return m._sandwich(m.rotate(_67),a,b);}return m._sandwich(m.rotate(_67),a.x,a.y);},rotategAt:function(_68,a,b){if(arguments.length>2){return m._sandwich(m.rotateg(_68),a,b);}return m._sandwich(m.rotateg(_68),a.x,a.y);},skewXAt:function(_69,a,b){if(arguments.length>2){return m._sandwich(m.skewX(_69),a,b);}return m._sandwich(m.skewX(_69),a.x,a.y);},skewXgAt:function(_6a,a,b){if(arguments.length>2){return m._sandwich(m.skewXg(_6a),a,b);}return m._sandwich(m.skewXg(_6a),a.x,a.y);},skewYAt:function(_6b,a,b){if(arguments.length>2){return m._sandwich(m.skewY(_6b),a,b);}return m._sandwich(m.skewY(_6b),a.x,a.y);},skewYgAt:function(_6c,a,b){if(arguments.length>2){return m._sandwich(m.skewYg(_6c),a,b);}return m._sandwich(m.skewYg(_6c),a.x,a.y);}});})();dojox.gfx.Matrix2D=dojox.gfx.matrix.Matrix2D;}if(!dojo._hasResource["dojox.gfx.path"]){dojo._hasResource["dojox.gfx.path"]=true;dojo.provide("dojox.gfx.path");dojo.declare("dojox.gfx.path.Path",dojox.gfx.Shape,{constructor:function(_6d){this.shape=dojo.clone(dojox.gfx.defaultPath);this.segments=[];this.tbbox=null;this.absolute=true;this.last={};this.rawNode=_6d;this.segmented=false;},setAbsoluteMode:function(_6e){this._confirmSegmented();this.absolute=typeof _6e=="string"?(_6e=="absolute"):_6e;return this;},getAbsoluteMode:function(){this._confirmSegmented();return this.absolute;},getBoundingBox:function(){this._confirmSegmented();return (this.bbox&&("l" in this.bbox))?{x:this.bbox.l,y:this.bbox.t,width:this.bbox.r-this.bbox.l,height:this.bbox.b-this.bbox.t}:null;},_getRealBBox:function(){this._confirmSegmented();if(this.tbbox){return this.tbbox;}var _6f=this.bbox,_70=this._getRealMatrix();this.bbox=null;for(var i=0,len=this.segments.length;i<len;++i){this._updateWithSegment(this.segments[i],_70);}var t=this.bbox;this.bbox=_6f;this.tbbox=t?[{x:t.l,y:t.t},{x:t.r,y:t.t},{x:t.r,y:t.b},{x:t.l,y:t.b}]:null;return this.tbbox;},getLastPosition:function(){this._confirmSegmented();return "x" in this.last?this.last:null;},_applyTransform:function(){this.tbbox=null;return dojox.gfx.Shape.prototype._applyTransform.call(this);},_updateBBox:function(x,y,_71){if(_71){var t=dojox.gfx.matrix.multiplyPoint(_71,x,y);x=t.x;y=t.y;}if(this.bbox&&("l" in this.bbox)){if(this.bbox.l>x){this.bbox.l=x;}if(this.bbox.r<x){this.bbox.r=x;}if(this.bbox.t>y){this.bbox.t=y;}if(this.bbox.b<y){this.bbox.b=y;}}else{this.bbox={l:x,b:y,r:x,t:y};}},_updateWithSegment:function(_72,_73){var n=_72.args,l=n.length;switch(_72.action){case "M":case "L":case "C":case "S":case "Q":case "T":for(var i=0;i<l;i+=2){this._updateBBox(n[i],n[i+1],_73);}this.last.x=n[l-2];this.last.y=n[l-1];this.absolute=true;break;case "H":for(var i=0;i<l;++i){this._updateBBox(n[i],this.last.y,_73);}this.last.x=n[l-1];this.absolute=true;break;case "V":for(var i=0;i<l;++i){this._updateBBox(this.last.x,n[i],_73);}this.last.y=n[l-1];this.absolute=true;break;case "m":var _74=0;if(!("x" in this.last)){this._updateBBox(this.last.x=n[0],this.last.y=n[1],_73);_74=2;}for(var i=_74;i<l;i+=2){this._updateBBox(this.last.x+=n[i],this.last.y+=n[i+1],_73);}this.absolute=false;break;case "l":case "t":for(var i=0;i<l;i+=2){this._updateBBox(this.last.x+=n[i],this.last.y+=n[i+1],_73);}this.absolute=false;break;case "h":for(var i=0;i<l;++i){this._updateBBox(this.last.x+=n[i],this.last.y,_73);}this.absolute=false;break;case "v":for(var i=0;i<l;++i){this._updateBBox(this.last.x,this.last.y+=n[i],_73);}this.absolute=false;break;case "c":for(var i=0;i<l;i+=6){this._updateBBox(this.last.x+n[i],this.last.y+n[i+1],_73);this._updateBBox(this.last.x+n[i+2],this.last.y+n[i+3],_73);this._updateBBox(this.last.x+=n[i+4],this.last.y+=n[i+5],_73);}this.absolute=false;break;case "s":case "q":for(var i=0;i<l;i+=4){this._updateBBox(this.last.x+n[i],this.last.y+n[i+1],_73);this._updateBBox(this.last.x+=n[i+2],this.last.y+=n[i+3],_73);}this.absolute=false;break;case "A":for(var i=0;i<l;i+=7){this._updateBBox(n[i+5],n[i+6],_73);}this.last.x=n[l-2];this.last.y=n[l-1];this.absolute=true;break;case "a":for(var i=0;i<l;i+=7){this._updateBBox(this.last.x+=n[i+5],this.last.y+=n[i+6],_73);}this.absolute=false;break;}var _75=[_72.action];for(var i=0;i<l;++i){_75.push(dojox.gfx.formatNumber(n[i],true));}if(typeof this.shape.path=="string"){this.shape.path+=_75.join("");}else{Array.prototype.push.apply(this.shape.path,_75);}},_validSegments:{m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},_pushSegment:function(_76,_77){this.tbbox=null;var _78=this._validSegments[_76.toLowerCase()];if(typeof _78=="number"){if(_78){if(_77.length>=_78){var _79={action:_76,args:_77.slice(0,_77.length-_77.length%_78)};this.segments.push(_79);this._updateWithSegment(_79);}}else{var _79={action:_76,args:[]};this.segments.push(_79);this._updateWithSegment(_79);}}},_collectArgs:function(_7a,_7b){for(var i=0;i<_7b.length;++i){var t=_7b[i];if(typeof t=="boolean"){_7a.push(t?1:0);}else{if(typeof t=="number"){_7a.push(t);}else{if(t instanceof Array){this._collectArgs(_7a,t);}else{if("x" in t&&"y" in t){_7a.push(t.x,t.y);}}}}}},moveTo:function(){this._confirmSegmented();var _7c=[];this._collectArgs(_7c,arguments);this._pushSegment(this.absolute?"M":"m",_7c);return this;},lineTo:function(){this._confirmSegmented();var _7d=[];this._collectArgs(_7d,arguments);this._pushSegment(this.absolute?"L":"l",_7d);return this;},hLineTo:function(){this._confirmSegmented();var _7e=[];this._collectArgs(_7e,arguments);this._pushSegment(this.absolute?"H":"h",_7e);return this;},vLineTo:function(){this._confirmSegmented();var _7f=[];this._collectArgs(_7f,arguments);this._pushSegment(this.absolute?"V":"v",_7f);return this;},curveTo:function(){this._confirmSegmented();var _80=[];this._collectArgs(_80,arguments);this._pushSegment(this.absolute?"C":"c",_80);return this;},smoothCurveTo:function(){this._confirmSegmented();var _81=[];this._collectArgs(_81,arguments);this._pushSegment(this.absolute?"S":"s",_81);return this;},qCurveTo:function(){this._confirmSegmented();var _82=[];this._collectArgs(_82,arguments);this._pushSegment(this.absolute?"Q":"q",_82);return this;},qSmoothCurveTo:function(){this._confirmSegmented();var _83=[];this._collectArgs(_83,arguments);this._pushSegment(this.absolute?"T":"t",_83);return this;},arcTo:function(){this._confirmSegmented();var _84=[];this._collectArgs(_84,arguments);this._pushSegment(this.absolute?"A":"a",_84);return this;},closePath:function(){this._confirmSegmented();this._pushSegment("Z",[]);return this;},_confirmSegmented:function(){if(!this.segmented){var _85=this.shape.path;this.shape.path=[];this._setPath(_85);this.shape.path=this.shape.path.join("");this.segmented=true;}},_setPath:function(_86){var p=dojo.isArray(_86)?_86:_86.match(dojox.gfx.pathSvgRegExp);this.segments=[];this.absolute=true;this.bbox={};this.last={};if(!p){return;}var _87="",_88=[],l=p.length;for(var i=0;i<l;++i){var t=p[i],x=parseFloat(t);if(isNaN(x)){if(_87){this._pushSegment(_87,_88);}_88=[];_87=t;}else{_88.push(x);}}this._pushSegment(_87,_88);},setShape:function(_89){dojox.gfx.Shape.prototype.setShape.call(this,typeof _89=="string"?{path:_89}:_89);this.segmented=false;this.segments=[];if(!dojox.gfx.lazyPathSegmentation){this._confirmSegmented();}return this;},_2PI:Math.PI*2});dojo.declare("dojox.gfx.path.TextPath",dojox.gfx.path.Path,{constructor:function(_8a){if(!("text" in this)){this.text=dojo.clone(dojox.gfx.defaultTextPath);}if(!("fontStyle" in this)){this.fontStyle=dojo.clone(dojox.gfx.defaultFont);}},getText:function(){return this.text;},setText:function(_8b){this.text=dojox.gfx.makeParameters(this.text,typeof _8b=="string"?{text:_8b}:_8b);this._setText();return this;},getFont:function(){return this.fontStyle;},setFont:function(_8c){this.fontStyle=typeof _8c=="string"?dojox.gfx.splitFontString(_8c):dojox.gfx.makeParameters(dojox.gfx.defaultFont,_8c);this._setFont();return this;}});}if(!dojo._hasResource["dojox.gfx.svg"]){dojo._hasResource["dojox.gfx.svg"]=true;dojo.provide("dojox.gfx.svg");(function(){var d=dojo,g=dojox.gfx,gs=g.shape,svg=g.svg;svg.useSvgWeb=(typeof (window.svgweb)!=="undefined");var _8d=function(ns,_8e){if(dojo.doc.createElementNS){return dojo.doc.createElementNS(ns,_8e);}else{return dojo.doc.createElement(_8e);}};var _8f=function(_90){if(svg.useSvgWeb){return dojo.doc.createTextNode(_90,true);}else{return dojo.doc.createTextNode(_90);}};var _91=function(){if(svg.useSvgWeb){return dojo.doc.createDocumentFragment(true);}else{return dojo.doc.createDocumentFragment();}};svg.xmlns={xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"};svg.getRef=function(_92){if(!_92||_92=="none"){return null;}if(_92.match(/^url\(#.+\)$/)){return d.byId(_92.slice(5,-1));}if(_92.match(/^#dojoUnique\d+$/)){return d.byId(_92.slice(1));}return null;};svg.dasharray={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]};d.extend(g.Shape,{setFill:function(_93){if(!_93){this.fillStyle=null;this.rawNode.setAttribute("fill","none");this.rawNode.setAttribute("fill-opacity",0);return this;}var f;var _94=function(x){this.setAttribute(x,f[x].toFixed(8));};if(typeof (_93)=="object"&&"type" in _93){switch(_93.type){case "linear":f=g.makeParameters(g.defaultLinearGradient,_93);var _95=this._setFillObject(f,"linearGradient");d.forEach(["x1","y1","x2","y2"],_94,_95);break;case "radial":f=g.makeParameters(g.defaultRadialGradient,_93);var _95=this._setFillObject(f,"radialGradient");d.forEach(["cx","cy","r"],_94,_95);break;case "pattern":f=g.makeParameters(g.defaultPattern,_93);var _96=this._setFillObject(f,"pattern");d.forEach(["x","y","width","height"],_94,_96);break;}this.fillStyle=f;return this;}var f=g.normalizeColor(_93);this.fillStyle=f;this.rawNode.setAttribute("fill",f.toCss());this.rawNode.setAttribute("fill-opacity",f.a);this.rawNode.setAttribute("fill-rule","evenodd");return this;},setStroke:function(_97){var rn=this.rawNode;if(!_97){this.strokeStyle=null;rn.setAttribute("stroke","none");rn.setAttribute("stroke-opacity",0);return this;}if(typeof _97=="string"||d.isArray(_97)||_97 instanceof d.Color){_97={color:_97};}var s=this.strokeStyle=g.makeParameters(g.defaultStroke,_97);s.color=g.normalizeColor(s.color);if(s){rn.setAttribute("stroke",s.color.toCss());rn.setAttribute("stroke-opacity",s.color.a);rn.setAttribute("stroke-width",s.width);rn.setAttribute("stroke-linecap",s.cap);if(typeof s.join=="number"){rn.setAttribute("stroke-linejoin","miter");rn.setAttribute("stroke-miterlimit",s.join);}else{rn.setAttribute("stroke-linejoin",s.join);}var da=s.style.toLowerCase();if(da in svg.dasharray){da=svg.dasharray[da];}if(da instanceof Array){da=d._toArray(da);for(var i=0;i<da.length;++i){da[i]*=s.width;}if(s.cap!="butt"){for(var i=0;i<da.length;i+=2){da[i]-=s.width;if(da[i]<1){da[i]=1;}}for(var i=1;i<da.length;i+=2){da[i]+=s.width;}}da=da.join(",");}rn.setAttribute("stroke-dasharray",da);rn.setAttribute("dojoGfxStrokeStyle",s.style);}return this;},_getParentSurface:function(){var _98=this.parent;for(;_98&&!(_98 instanceof g.Surface);_98=_98.parent){}return _98;},_setFillObject:function(f,_99){var _9a=svg.xmlns.svg;this.fillStyle=f;var _9b=this._getParentSurface(),_9c=_9b.defNode,_9d=this.rawNode.getAttribute("fill"),ref=svg.getRef(_9d);if(ref){_9d=ref;if(_9d.tagName.toLowerCase()!=_99.toLowerCase()){var id=_9d.id;_9d.parentNode.removeChild(_9d);_9d=_8d(_9a,_99);_9d.setAttribute("id",id);_9c.appendChild(_9d);}else{while(_9d.childNodes.length){_9d.removeChild(_9d.lastChild);}}}else{_9d=_8d(_9a,_99);_9d.setAttribute("id",g._base._getUniqueId());_9c.appendChild(_9d);}if(_99=="pattern"){_9d.setAttribute("patternUnits","userSpaceOnUse");var img=_8d(_9a,"image");img.setAttribute("x",0);img.setAttribute("y",0);img.setAttribute("width",f.width.toFixed(8));img.setAttribute("height",f.height.toFixed(8));img.setAttributeNS(svg.xmlns.xlink,"xlink:href",f.src);_9d.appendChild(img);}else{_9d.setAttribute("gradientUnits","userSpaceOnUse");for(var i=0;i<f.colors.length;++i){var c=f.colors[i],t=_8d(_9a,"stop"),cc=c.color=g.normalizeColor(c.color);t.setAttribute("offset",c.offset.toFixed(8));t.setAttribute("stop-color",cc.toCss());t.setAttribute("stop-opacity",cc.a);_9d.appendChild(t);}}this.rawNode.setAttribute("fill","url(#"+_9d.getAttribute("id")+")");this.rawNode.removeAttribute("fill-opacity");this.rawNode.setAttribute("fill-rule","evenodd");return _9d;},_applyTransform:function(){var _9e=this.matrix;if(_9e){var tm=this.matrix;this.rawNode.setAttribute("transform","matrix("+tm.xx.toFixed(8)+","+tm.yx.toFixed(8)+","+tm.xy.toFixed(8)+","+tm.yy.toFixed(8)+","+tm.dx.toFixed(8)+","+tm.dy.toFixed(8)+")");}else{this.rawNode.removeAttribute("transform");}return this;},setRawNode:function(_9f){var r=this.rawNode=_9f;if(this.shape.type!="image"){r.setAttribute("fill","none");}r.setAttribute("fill-opacity",0);r.setAttribute("stroke","none");r.setAttribute("stroke-opacity",0);r.setAttribute("stroke-width",1);r.setAttribute("stroke-linecap","butt");r.setAttribute("stroke-linejoin","miter");r.setAttribute("stroke-miterlimit",4);},setShape:function(_a0){this.shape=g.makeParameters(this.shape,_a0);for(var i in this.shape){if(i!="type"){this.rawNode.setAttribute(i,this.shape[i]);}}this.bbox=null;return this;},_moveToFront:function(){this.rawNode.parentNode.appendChild(this.rawNode);return this;},_moveToBack:function(){this.rawNode.parentNode.insertBefore(this.rawNode,this.rawNode.parentNode.firstChild);return this;}});dojo.declare("dojox.gfx.Group",g.Shape,{constructor:function(){svg.Container._init.call(this);},setRawNode:function(_a1){this.rawNode=_a1;}});g.Group.nodeType="g";dojo.declare("dojox.gfx.Rect",gs.Rect,{setShape:function(_a2){this.shape=g.makeParameters(this.shape,_a2);this.bbox=null;for(var i in this.shape){if(i!="type"&&i!="r"){this.rawNode.setAttribute(i,this.shape[i]);}}if(this.shape.r){this.rawNode.setAttribute("ry",this.shape.r);this.rawNode.setAttribute("rx",this.shape.r);}return this;}});g.Rect.nodeType="rect";g.Ellipse=gs.Ellipse;g.Ellipse.nodeType="ellipse";g.Circle=gs.Circle;g.Circle.nodeType="circle";g.Line=gs.Line;g.Line.nodeType="line";dojo.declare("dojox.gfx.Polyline",gs.Polyline,{setShape:function(_a3,_a4){if(_a3&&_a3 instanceof Array){this.shape=g.makeParameters(this.shape,{points:_a3});if(_a4&&this.shape.points.length){this.shape.points.push(this.shape.points[0]);}}else{this.shape=g.makeParameters(this.shape,_a3);}this.bbox=null;this._normalizePoints();var _a5=[],p=this.shape.points;for(var i=0;i<p.length;++i){_a5.push(p[i].x.toFixed(8),p[i].y.toFixed(8));}this.rawNode.setAttribute("points",_a5.join(" "));return this;}});g.Polyline.nodeType="polyline";dojo.declare("dojox.gfx.Image",gs.Image,{setShape:function(_a6){this.shape=g.makeParameters(this.shape,_a6);this.bbox=null;var _a7=this.rawNode;for(var i in this.shape){if(i!="type"&&i!="src"){_a7.setAttribute(i,this.shape[i]);}}_a7.setAttribute("preserveAspectRatio","none");_a7.setAttributeNS(svg.xmlns.xlink,"xlink:href",this.shape.src);return this;}});g.Image.nodeType="image";dojo.declare("dojox.gfx.Text",gs.Text,{setShape:function(_a8){this.shape=g.makeParameters(this.shape,_a8);this.bbox=null;var r=this.rawNode,s=this.shape;r.setAttribute("x",s.x);r.setAttribute("y",s.y);r.setAttribute("text-anchor",s.align);r.setAttribute("text-decoration",s.decoration);r.setAttribute("rotate",s.rotated?90:0);r.setAttribute("kerning",s.kerning?"auto":0);r.setAttribute("text-rendering","optimizeLegibility");if(r.firstChild){r.firstChild.nodeValue=s.text;}else{r.appendChild(_8f(s.text));}return this;},getTextWidth:function(){var _a9=this.rawNode,_aa=_a9.parentNode,_ab=_a9.cloneNode(true);_ab.style.visibility="hidden";var _ac=0,_ad=_ab.firstChild.nodeValue;_aa.appendChild(_ab);if(_ad!=""){while(!_ac){if(_ab.getBBox){_ac=parseInt(_ab.getBBox().width);}else{_ac=68;}}}_aa.removeChild(_ab);return _ac;}});g.Text.nodeType="text";dojo.declare("dojox.gfx.Path",g.path.Path,{_updateWithSegment:function(_ae){g.Path.superclass._updateWithSegment.apply(this,arguments);if(typeof (this.shape.path)=="string"){this.rawNode.setAttribute("d",this.shape.path);}},setShape:function(_af){g.Path.superclass.setShape.apply(this,arguments);this.rawNode.setAttribute("d",this.shape.path);return this;}});g.Path.nodeType="path";dojo.declare("dojox.gfx.TextPath",g.path.TextPath,{_updateWithSegment:function(_b0){g.Path.superclass._updateWithSegment.apply(this,arguments);this._setTextPath();},setShape:function(_b1){g.Path.superclass.setShape.apply(this,arguments);this._setTextPath();return this;},_setTextPath:function(){if(typeof this.shape.path!="string"){return;}var r=this.rawNode;if(!r.firstChild){var tp=_8d(svg.xmlns.svg,"textPath"),tx=_8f("");tp.appendChild(tx);r.appendChild(tp);}var ref=r.firstChild.getAttributeNS(svg.xmlns.xlink,"href"),_b2=ref&&svg.getRef(ref);if(!_b2){var _b3=this._getParentSurface();if(_b3){var _b4=_b3.defNode;_b2=_8d(svg.xmlns.svg,"path");var id=g._base._getUniqueId();_b2.setAttribute("id",id);_b4.appendChild(_b2);r.firstChild.setAttributeNS(svg.xmlns.xlink,"xlink:href","#"+id);}}if(_b2){_b2.setAttribute("d",this.shape.path);}},_setText:function(){var r=this.rawNode;if(!r.firstChild){var tp=_8d(svg.xmlns.svg,"textPath"),tx=_8f("");tp.appendChild(tx);r.appendChild(tp);}r=r.firstChild;var t=this.text;r.setAttribute("alignment-baseline","middle");switch(t.align){case "middle":r.setAttribute("text-anchor","middle");r.setAttribute("startOffset","50%");break;case "end":r.setAttribute("text-anchor","end");r.setAttribute("startOffset","100%");break;default:r.setAttribute("text-anchor","start");r.setAttribute("startOffset","0%");break;}r.setAttribute("baseline-shift","0.5ex");r.setAttribute("text-decoration",t.decoration);r.setAttribute("rotate",t.rotated?90:0);r.setAttribute("kerning",t.kerning?"auto":0);r.firstChild.data=t.text;}});g.TextPath.nodeType="text";dojo.declare("dojox.gfx.Surface",gs.Surface,{constructor:function(){svg.Container._init.call(this);},destroy:function(){this.defNode=null;this.inherited(arguments);},setDimensions:function(_b5,_b6){if(!this.rawNode){return this;}this.rawNode.setAttribute("width",_b5);this.rawNode.setAttribute("height",_b6);return this;},getDimensions:function(){var t=this.rawNode?{width:g.normalizedLength(this.rawNode.getAttribute("width")),height:g.normalizedLength(this.rawNode.getAttribute("height"))}:null;return t;}});g.createSurface=function(_b7,_b8,_b9){var s=new g.Surface();s.rawNode=_8d(svg.xmlns.svg,"svg");if(_b8){s.rawNode.setAttribute("width",_b8);}if(_b9){s.rawNode.setAttribute("height",_b9);}var _ba=_8d(svg.xmlns.svg,"defs");s.rawNode.appendChild(_ba);s.defNode=_ba;s._parent=d.byId(_b7);s._parent.appendChild(s.rawNode);return s;};svg.Font={_setFont:function(){var f=this.fontStyle;this.rawNode.setAttribute("font-style",f.style);this.rawNode.setAttribute("font-variant",f.variant);this.rawNode.setAttribute("font-weight",f.weight);this.rawNode.setAttribute("font-size",f.size);this.rawNode.setAttribute("font-family",f.family);}};svg.Container={_init:function(){gs.Container._init.call(this);},openBatch:function(){this.fragment=_91();},closeBatch:function(){if(this.fragment){this.rawNode.appendChild(this.fragment);delete this.fragment;}},add:function(_bb){if(this!=_bb.getParent()){if(this.fragment){this.fragment.appendChild(_bb.rawNode);}else{this.rawNode.appendChild(_bb.rawNode);}gs.Container.add.apply(this,arguments);}return this;},remove:function(_bc,_bd){if(this==_bc.getParent()){if(this.rawNode==_bc.rawNode.parentNode){this.rawNode.removeChild(_bc.rawNode);}if(this.fragment&&this.fragment==_bc.rawNode.parentNode){this.fragment.removeChild(_bc.rawNode);}gs.Container.remove.apply(this,arguments);}return this;},clear:function(){var r=this.rawNode;while(r.lastChild){r.removeChild(r.lastChild);}var _be=this.defNode;if(_be){while(_be.lastChild){_be.removeChild(_be.lastChild);}r.appendChild(_be);}return gs.Container.clear.apply(this,arguments);},_moveChildToFront:gs.Container._moveChildToFront,_moveChildToBack:gs.Container._moveChildToBack};d.mixin(gs.Creator,{createObject:function(_bf,_c0){if(!this.rawNode){return null;}var _c1=new _bf(),_c2=_8d(svg.xmlns.svg,_bf.nodeType);_c1.setRawNode(_c2);_c1.setShape(_c0);this.add(_c1);return _c1;}});d.extend(g.Text,svg.Font);d.extend(g.TextPath,svg.Font);d.extend(g.Group,svg.Container);d.extend(g.Group,gs.Creator);d.extend(g.Surface,svg.Container);d.extend(g.Surface,gs.Creator);if(svg.useSvgWeb){g.createSurface=function(_c3,_c4,_c5){var s=new g.Surface();if(!_c4||!_c5){var pos=d.position(_c3);_c4=_c4||pos.w;_c5=_c5||pos.h;}_c3=d.byId(_c3);var id=_c3.id?_c3.id+"_svgweb":g._base._getUniqueId();var _c6=_8d(svg.xmlns.svg,"svg");_c6.id=id;_c6.setAttribute("width",_c4);_c6.setAttribute("height",_c5);svgweb.appendChild(_c6,_c3);_c6.addEventListener("SVGLoad",function(){s.rawNode=this;s.isLoaded=true;var _c7=_8d(svg.xmlns.svg,"defs");s.rawNode.appendChild(_c7);s.defNode=_c7;if(s.onLoad){s.onLoad(s);}},false);s.isLoaded=false;return s;};dojo.extend(dojox.gfx.shape.Surface,{destroy:function(){var _c8=this.rawNode;svgweb.removeChild(_c8,_c8.parentNode);}});gs._eventsProcessing.connect=function(_c9,_ca,_cb){if(_c9.substring(0,2)==="on"){_c9=_c9.substring(2);}if(arguments.length==2){_cb=_ca;}else{_cb=d.hitch(_ca,_cb);}this.getEventSource().addEventListener(_c9,_cb,false);return [this,_c9,_cb];};gs._eventsProcessing.disconnect=function(_cc){this.getEventSource().removeEventListener(_cc[1],_cc[2],false);delete _cc[0];};dojo.extend(dojox.gfx.Shape,dojox.gfx.shape._eventsProcessing);dojo.extend(dojox.gfx.shape.Surface,dojox.gfx.shape._eventsProcessing);}})();}if(!dojo._hasResource["dojox.gfx"]){dojo._hasResource["dojox.gfx"]=true;dojo.provide("dojox.gfx");dojo.loadInit(function(){var gfx=dojo.getObject("dojox.gfx",true),sl,_cd,_ce;if(!gfx.renderer){if(dojo.config.forceGfxRenderer){dojox.gfx.renderer=dojo.config.forceGfxRenderer;return;}var _cf=(typeof dojo.config.gfxRenderer=="string"?dojo.config.gfxRenderer:"svg,vml,silverlight,canvas").split(",");var ua=navigator.userAgent,_d0=0,_d1=0;if(dojo.isSafari>=3){if(ua.indexOf("iPhone")>=0||ua.indexOf("iPod")>=0){_ce=ua.match(/Version\/(\d(\.\d)?(\.\d)?)\sMobile\/([^\s]*)\s?/);if(_ce){_d0=parseInt(_ce[4].substr(0,3),16);}}}if(dojo.isWebKit){if(!_d0){_ce=ua.match(/Android\s+(\d+\.\d+)/);if(_ce){_d1=parseFloat(_ce[1]);}}}for(var i=0;i<_cf.length;++i){switch(_cf[i]){case "svg":if(!dojo.isIE&&(!_d0||_d0>=1521)&&!_d1&&!dojo.isAIR){dojox.gfx.renderer="svg";}break;case "vml":if(dojo.isIE){dojox.gfx.renderer="vml";}break;case "silverlight":try{if(dojo.isIE){sl=new ActiveXObject("AgControl.AgControl");if(sl&&sl.IsVersionSupported("1.0")){_cd=true;}}else{if(navigator.plugins["Silverlight Plug-In"]){_cd=true;}}}catch(e){_cd=false;}finally{sl=null;}if(_cd){dojox.gfx.renderer="silverlight";}break;case "canvas":if(!dojo.isIE){dojox.gfx.renderer="canvas";}break;}if(dojox.gfx.renderer){break;}}if(dojo.config.isDebug){}}});dojo.requireIf(dojox.gfx.renderer=="vml","dojox.gfx.vml");dojo.requireIf(dojox.gfx.renderer=="silverlight","dojox.gfx.silverlight");dojo.requireIf(dojox.gfx.renderer=="canvas","dojox.gfx.canvas");}if(!dojo._hasResource["dojox.lang.functional.lambda"]){dojo._hasResource["dojox.lang.functional.lambda"]=true;dojo.provide("dojox.lang.functional.lambda");(function(){var df=dojox.lang.functional,_d2={};var _d3="ab".split(/a*/).length>1?String.prototype.split:function(sep){var r=this.split.call(this,sep),m=sep.exec(this);if(m&&m.index==0){r.unshift("");}return r;};var _d4=function(s){var _d5=[],_d6=_d3.call(s,/\s*->\s*/m);if(_d6.length>1){while(_d6.length){s=_d6.pop();_d5=_d6.pop().split(/\s*,\s*|\s+/m);if(_d6.length){_d6.push("(function("+_d5+"){return ("+s+")})");}}}else{if(s.match(/\b_\b/)){_d5=["_"];}else{var l=s.match(/^\s*(?:[+*\/%&|\^\.=<>]|!=)/m),r=s.match(/[+\-*\/%&|\^\.=<>!]\s*$/m);if(l||r){if(l){_d5.push("$1");s="$1"+s;}if(r){_d5.push("$2");s=s+"$2";}}else{var _d7=s.replace(/(?:\b[A-Z]|\.[a-zA-Z_$])[a-zA-Z_$\d]*|[a-zA-Z_$][a-zA-Z_$\d]*:|this|true|false|null|undefined|typeof|instanceof|in|delete|new|void|arguments|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|escape|eval|isFinite|isNaN|parseFloat|parseInt|unescape|dojo|dijit|dojox|window|document|'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"/g,"").match(/([a-z_$][a-z_$\d]*)/gi)||[],t={};dojo.forEach(_d7,function(v){if(!(v in t)){_d5.push(v);t[v]=1;}});}}}return {args:_d5,body:s};};var _d8=function(a){return a.length?function(){var i=a.length-1,x=df.lambda(a[i]).apply(this,arguments);for(--i;i>=0;--i){x=df.lambda(a[i]).call(this,x);}return x;}:function(x){return x;};};dojo.mixin(df,{rawLambda:function(s){return _d4(s);},buildLambda:function(s){s=_d4(s);return "function("+s.args.join(",")+"){return ("+s.body+");}";},lambda:function(s){if(typeof s=="function"){return s;}if(s instanceof Array){return _d8(s);}if(s in _d2){return _d2[s];}s=_d4(s);return _d2[s]=new Function(s.args,"return ("+s.body+");");},clearLambdaCache:function(){_d2={};}});})();}if(!dojo._hasResource["dojox.lang.functional.array"]){dojo._hasResource["dojox.lang.functional.array"]=true;dojo.provide("dojox.lang.functional.array");(function(){var d=dojo,df=dojox.lang.functional,_d9={};d.mixin(df,{filter:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var t=[],v,i,n;if(d.isArray(a)){for(i=0,n=a.length;i<n;++i){v=a[i];if(f.call(o,v,i,a)){t.push(v);}}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){for(i=0;a.hasNext();){v=a.next();if(f.call(o,v,i++,a)){t.push(v);}}}else{for(i in a){if(!(i in _d9)){v=a[i];if(f.call(o,v,i,a)){t.push(v);}}}}}return t;},forEach:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var i,n;if(d.isArray(a)){for(i=0,n=a.length;i<n;f.call(o,a[i],i,a),++i){}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){for(i=0;a.hasNext();f.call(o,a.next(),i++,a)){}}else{for(i in a){if(!(i in _d9)){f.call(o,a[i],i,a);}}}}return o;},map:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var t,n,i;if(d.isArray(a)){t=new Array(n=a.length);for(i=0;i<n;t[i]=f.call(o,a[i],i,a),++i){}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){t=[];for(i=0;a.hasNext();t.push(f.call(o,a.next(),i++,a))){}}else{t=[];for(i in a){if(!(i in _d9)){t.push(f.call(o,a[i],i,a));}}}}return t;},every:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var i,n;if(d.isArray(a)){for(i=0,n=a.length;i<n;++i){if(!f.call(o,a[i],i,a)){return false;}}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){for(i=0;a.hasNext();){if(!f.call(o,a.next(),i++,a)){return false;}}}else{for(i in a){if(!(i in _d9)){if(!f.call(o,a[i],i,a)){return false;}}}}}return true;},some:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var i,n;if(d.isArray(a)){for(i=0,n=a.length;i<n;++i){if(f.call(o,a[i],i,a)){return true;}}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){for(i=0;a.hasNext();){if(f.call(o,a.next(),i++,a)){return true;}}}else{for(i in a){if(!(i in _d9)){if(f.call(o,a[i],i,a)){return true;}}}}}return false;}});})();}if(!dojo._hasResource["dojox.lang.functional.object"]){dojo._hasResource["dojox.lang.functional.object"]=true;dojo.provide("dojox.lang.functional.object");(function(){var d=dojo,df=dojox.lang.functional,_da={};d.mixin(df,{keys:function(obj){var t=[];for(var i in obj){if(!(i in _da)){t.push(i);}}return t;},values:function(obj){var t=[];for(var i in obj){if(!(i in _da)){t.push(obj[i]);}}return t;},filterIn:function(obj,f,o){o=o||d.global;f=df.lambda(f);var t={},v,i;for(i in obj){if(!(i in _da)){v=obj[i];if(f.call(o,v,i,obj)){t[i]=v;}}}return t;},forIn:function(obj,f,o){o=o||d.global;f=df.lambda(f);for(var i in obj){if(!(i in _da)){f.call(o,obj[i],i,obj);}}return o;},mapIn:function(obj,f,o){o=o||d.global;f=df.lambda(f);var t={},i;for(i in obj){if(!(i in _da)){t[i]=f.call(o,obj[i],i,obj);}}return t;}});})();}if(!dojo._hasResource["dojox.lang.functional"]){dojo._hasResource["dojox.lang.functional"]=true;dojo.provide("dojox.lang.functional");}if(!dojo._hasResource["dojox.lang.functional.fold"]){dojo._hasResource["dojox.lang.functional.fold"]=true;dojo.provide("dojox.lang.functional.fold");(function(){var d=dojo,df=dojox.lang.functional,_db={};d.mixin(df,{foldl:function(a,f,z,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var i,n;if(d.isArray(a)){for(i=0,n=a.length;i<n;z=f.call(o,z,a[i],i,a),++i){}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){for(i=0;a.hasNext();z=f.call(o,z,a.next(),i++,a)){}}else{for(i in a){if(!(i in _db)){z=f.call(o,z,a[i],i,a);}}}}return z;},foldl1:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var z,i,n;if(d.isArray(a)){z=a[0];for(i=1,n=a.length;i<n;z=f.call(o,z,a[i],i,a),++i){}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){if(a.hasNext()){z=a.next();for(i=1;a.hasNext();z=f.call(o,z,a.next(),i++,a)){}}}else{var _dc=true;for(i in a){if(!(i in _db)){if(_dc){z=a[i];_dc=false;}else{z=f.call(o,z,a[i],i,a);}}}}}return z;},foldr:function(a,f,z,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);for(var i=a.length;i>0;--i,z=f.call(o,z,a[i],i,a)){}return z;},foldr1:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var n=a.length,z=a[n-1],i=n-1;for(;i>0;--i,z=f.call(o,z,a[i],i,a)){}return z;},reduce:function(a,f,z){return arguments.length<3?df.foldl1(a,f):df.foldl(a,f,z);},reduceRight:function(a,f,z){return arguments.length<3?df.foldr1(a,f):df.foldr(a,f,z);},unfold:function(pr,f,g,z,o){o=o||d.global;f=df.lambda(f);g=df.lambda(g);pr=df.lambda(pr);var t=[];for(;!pr.call(o,z);t.push(f.call(o,z)),z=g.call(o,z)){}return t;}});})();}if(!dojo._hasResource["dojox.lang.functional.reversed"]){dojo._hasResource["dojox.lang.functional.reversed"]=true;dojo.provide("dojox.lang.functional.reversed");(function(){var d=dojo,df=dojox.lang.functional;d.mixin(df,{filterRev:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var t=[],v,i=a.length-1;for(;i>=0;--i){v=a[i];if(f.call(o,v,i,a)){t.push(v);}}return t;},forEachRev:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);for(var i=a.length-1;i>=0;f.call(o,a[i],i,a),--i){}},mapRev:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var n=a.length,t=new Array(n),i=n-1,j=0;for(;i>=0;t[j++]=f.call(o,a[i],i,a),--i){}return t;},everyRev:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);for(var i=a.length-1;i>=0;--i){if(!f.call(o,a[i],i,a)){return false;}}return true;},someRev:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);for(var i=a.length-1;i>=0;--i){if(f.call(o,a[i],i,a)){return true;}}return false;}});})();}if(!dojo._hasResource["dojo.colors"]){dojo._hasResource["dojo.colors"]=true;dojo.provide("dojo.colors");(function(){var _dd=function(m1,m2,h){if(h<0){++h;}if(h>1){--h;}var h6=6*h;if(h6<1){return m1+(m2-m1)*h6;}if(2*h<1){return m2;}if(3*h<2){return m1+(m2-m1)*(2/3-h)*6;}return m1;};dojo.colorFromRgb=function(_de,obj){var m=_de.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(m){var c=m[2].split(/\s*,\s*/),l=c.length,t=m[1],a;if((t=="rgb"&&l==3)||(t=="rgba"&&l==4)){var r=c[0];if(r.charAt(r.length-1)=="%"){a=dojo.map(c,function(x){return parseFloat(x)*2.56;});if(l==4){a[3]=c[3];}return dojo.colorFromArray(a,obj);}return dojo.colorFromArray(c,obj);}if((t=="hsl"&&l==3)||(t=="hsla"&&l==4)){var H=((parseFloat(c[0])%360)+360)%360/360,S=parseFloat(c[1])/100,L=parseFloat(c[2])/100,m2=L<=0.5?L*(S+1):L+S-L*S,m1=2*L-m2;a=[_dd(m1,m2,H+1/3)*256,_dd(m1,m2,H)*256,_dd(m1,m2,H-1/3)*256,1];if(l==4){a[3]=c[3];}return dojo.colorFromArray(a,obj);}}return null;};var _df=function(c,low,_e0){c=Number(c);return isNaN(c)?_e0:c<low?low:c>_e0?_e0:c;};dojo.Color.prototype.sanitize=function(){var t=this;t.r=Math.round(_df(t.r,0,255));t.g=Math.round(_df(t.g,0,255));t.b=Math.round(_df(t.b,0,255));t.a=_df(t.a,0,1);return this;};})();dojo.colors.makeGrey=function(g,a){return dojo.colorFromArray([g,g,g,a]);};dojo.mixin(dojo.Color.named,{aliceblue:[240,248,255],antiquewhite:[250,235,215],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],blanchedalmond:[255,235,205],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],oldlace:[253,245,230],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],thistle:[216,191,216],tomato:[255,99,71],transparent:[0,0,0,0],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],whitesmoke:[245,245,245],yellowgreen:[154,205,50]});}if(!dojo._hasResource["dojox.color._base"]){dojo._hasResource["dojox.color._base"]=true;dojo.provide("dojox.color._base");dojox.color.Color=dojo.Color;dojox.color.blend=dojo.blendColors;dojox.color.fromRgb=dojo.colorFromRgb;dojox.color.fromHex=dojo.colorFromHex;dojox.color.fromArray=dojo.colorFromArray;dojox.color.fromString=dojo.colorFromString;dojox.color.greyscale=dojo.colors.makeGrey;dojo.mixin(dojox.color,{fromCmy:function(_e1,_e2,_e3){if(dojo.isArray(_e1)){_e2=_e1[1],_e3=_e1[2],_e1=_e1[0];}else{if(dojo.isObject(_e1)){_e2=_e1.m,_e3=_e1.y,_e1=_e1.c;}}_e1/=100,_e2/=100,_e3/=100;var r=1-_e1,g=1-_e2,b=1-_e3;return new dojox.color.Color({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});},fromCmyk:function(_e4,_e5,_e6,_e7){if(dojo.isArray(_e4)){_e5=_e4[1],_e6=_e4[2],_e7=_e4[3],_e4=_e4[0];}else{if(dojo.isObject(_e4)){_e5=_e4.m,_e6=_e4.y,_e7=_e4.b,_e4=_e4.c;}}_e4/=100,_e5/=100,_e6/=100,_e7/=100;var r,g,b;r=1-Math.min(1,_e4*(1-_e7)+_e7);g=1-Math.min(1,_e5*(1-_e7)+_e7);b=1-Math.min(1,_e6*(1-_e7)+_e7);return new dojox.color.Color({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});},fromHsl:function(hue,_e8,_e9){if(dojo.isArray(hue)){_e8=hue[1],_e9=hue[2],hue=hue[0];}else{if(dojo.isObject(hue)){_e8=hue.s,_e9=hue.l,hue=hue.h;}}_e8/=100;_e9/=100;while(hue<0){hue+=360;}while(hue>=360){hue-=360;}var r,g,b;if(hue<120){r=(120-hue)/60,g=hue/60,b=0;}else{if(hue<240){r=0,g=(240-hue)/60,b=(hue-120)/60;}else{r=(hue-240)/60,g=0,b=(360-hue)/60;}}r=2*_e8*Math.min(r,1)+(1-_e8);g=2*_e8*Math.min(g,1)+(1-_e8);b=2*_e8*Math.min(b,1)+(1-_e8);if(_e9<0.5){r*=_e9,g*=_e9,b*=_e9;}else{r=(1-_e9)*r+2*_e9-1;g=(1-_e9)*g+2*_e9-1;b=(1-_e9)*b+2*_e9-1;}return new dojox.color.Color({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});},fromHsv:function(hue,_ea,_eb){if(dojo.isArray(hue)){_ea=hue[1],_eb=hue[2],hue=hue[0];}else{if(dojo.isObject(hue)){_ea=hue.s,_eb=hue.v,hue=hue.h;}}if(hue==360){hue=0;}_ea/=100;_eb/=100;var r,g,b;if(_ea==0){r=_eb,b=_eb,g=_eb;}else{var _ec=hue/60,i=Math.floor(_ec),f=_ec-i;var p=_eb*(1-_ea);var q=_eb*(1-(_ea*f));var t=_eb*(1-(_ea*(1-f)));switch(i){case 0:r=_eb,g=t,b=p;break;case 1:r=q,g=_eb,b=p;break;case 2:r=p,g=_eb,b=t;break;case 3:r=p,g=q,b=_eb;break;case 4:r=t,g=p,b=_eb;break;case 5:r=_eb,g=p,b=q;break;}}return new dojox.color.Color({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});}});dojo.extend(dojox.color.Color,{toCmy:function(){var _ed=1-(this.r/255),_ee=1-(this.g/255),_ef=1-(this.b/255);return {c:Math.round(_ed*100),m:Math.round(_ee*100),y:Math.round(_ef*100)};},toCmyk:function(){var _f0,_f1,_f2,_f3;var r=this.r/255,g=this.g/255,b=this.b/255;_f3=Math.min(1-r,1-g,1-b);_f0=(1-r-_f3)/(1-_f3);_f1=(1-g-_f3)/(1-_f3);_f2=(1-b-_f3)/(1-_f3);return {c:Math.round(_f0*100),m:Math.round(_f1*100),y:Math.round(_f2*100),b:Math.round(_f3*100)};},toHsl:function(){var r=this.r/255,g=this.g/255,b=this.b/255;var min=Math.min(r,b,g),max=Math.max(r,g,b);var _f4=max-min;var h=0,s=0,l=(min+max)/2;if(l>0&&l<1){s=_f4/((l<0.5)?(2*l):(2-2*l));}if(_f4>0){if(max==r&&max!=g){h+=(g-b)/_f4;}if(max==g&&max!=b){h+=(2+(b-r)/_f4);}if(max==b&&max!=r){h+=(4+(r-g)/_f4);}h*=60;}return {h:h,s:Math.round(s*100),l:Math.round(l*100)};},toHsv:function(){var r=this.r/255,g=this.g/255,b=this.b/255;var min=Math.min(r,b,g),max=Math.max(r,g,b);var _f5=max-min;var h=null,s=(max==0)?0:(_f5/max);if(s==0){h=0;}else{if(r==max){h=60*(g-b)/_f5;}else{if(g==max){h=120+60*(b-r)/_f5;}else{h=240+60*(r-g)/_f5;}}if(h<0){h+=360;}}return {h:h,s:Math.round(s*100),v:Math.round(max*100)};}});}if(!dojo._hasResource["dojox.color"]){dojo._hasResource["dojox.color"]=true;dojo.provide("dojox.color");}if(!dojo._hasResource["dojox.color.Palette"]){dojo._hasResource["dojox.color.Palette"]=true;dojo.provide("dojox.color.Palette");(function(){var dxc=dojox.color;dxc.Palette=function(_f6){this.colors=[];if(_f6 instanceof dojox.color.Palette){this.colors=_f6.colors.slice(0);}else{if(_f6 instanceof dojox.color.Color){this.colors=[null,null,_f6,null,null];}else{if(dojo.isArray(_f6)){this.colors=dojo.map(_f6.slice(0),function(_f7){if(dojo.isString(_f7)){return new dojox.color.Color(_f7);}return _f7;});}else{if(dojo.isString(_f6)){this.colors=[null,null,new dojox.color.Color(_f6),null,null];}}}}};function _f8(p,_f9,val){var ret=new dojox.color.Palette();ret.colors=[];dojo.forEach(p.colors,function(_fa){var r=(_f9=="dr")?_fa.r+val:_fa.r,g=(_f9=="dg")?_fa.g+val:_fa.g,b=(_f9=="db")?_fa.b+val:_fa.b,a=(_f9=="da")?_fa.a+val:_fa.a;ret.colors.push(new dojox.color.Color({r:Math.min(255,Math.max(0,r)),g:Math.min(255,Math.max(0,g)),b:Math.min(255,Math.max(0,b)),a:Math.min(1,Math.max(0,a))}));});return ret;};function _fb(p,_fc,val){var ret=new dojox.color.Palette();ret.colors=[];dojo.forEach(p.colors,function(_fd){var o=_fd.toCmy(),c=(_fc=="dc")?o.c+val:o.c,m=(_fc=="dm")?o.m+val:o.m,y=(_fc=="dy")?o.y+val:o.y;ret.colors.push(dojox.color.fromCmy(Math.min(100,Math.max(0,c)),Math.min(100,Math.max(0,m)),Math.min(100,Math.max(0,y))));});return ret;};function _fe(p,_ff,val){var ret=new dojox.color.Palette();ret.colors=[];dojo.forEach(p.colors,function(item){var o=item.toCmyk(),c=(_ff=="dc")?o.c+val:o.c,m=(_ff=="dm")?o.m+val:o.m,y=(_ff=="dy")?o.y+val:o.y,k=(_ff=="dk")?o.b+val:o.b;ret.colors.push(dojox.color.fromCmyk(Math.min(100,Math.max(0,c)),Math.min(100,Math.max(0,m)),Math.min(100,Math.max(0,y)),Math.min(100,Math.max(0,k))));});return ret;};function tHSL(p,_100,val){var ret=new dojox.color.Palette();ret.colors=[];dojo.forEach(p.colors,function(item){var o=item.toHsl(),h=(_100=="dh")?o.h+val:o.h,s=(_100=="ds")?o.s+val:o.s,l=(_100=="dl")?o.l+val:o.l;ret.colors.push(dojox.color.fromHsl(h%360,Math.min(100,Math.max(0,s)),Math.min(100,Math.max(0,l))));});return ret;};function tHSV(p,_101,val){var ret=new dojox.color.Palette();ret.colors=[];dojo.forEach(p.colors,function(item){var o=item.toHsv(),h=(_101=="dh")?o.h+val:o.h,s=(_101=="ds")?o.s+val:o.s,v=(_101=="dv")?o.v+val:o.v;ret.colors.push(dojox.color.fromHsv(h%360,Math.min(100,Math.max(0,s)),Math.min(100,Math.max(0,v))));});return ret;};function _102(val,low,high){return high-((high-val)*((high-low)/high));};dojo.extend(dxc.Palette,{transform:function(_103){var fn=_f8;if(_103.use){var use=_103.use.toLowerCase();if(use.indexOf("hs")==0){if(use.charAt(2)=="l"){fn=tHSL;}else{fn=tHSV;}}else{if(use.indexOf("cmy")==0){if(use.charAt(3)=="k"){fn=_fe;}else{fn=_fb;}}}}else{if("dc" in _103||"dm" in _103||"dy" in _103){if("dk" in _103){fn=_fe;}else{fn=_fb;}}else{if("dh" in _103||"ds" in _103){if("dv" in _103){fn=tHSV;}else{fn=tHSL;}}}}var _104=this;for(var p in _103){if(p=="use"){continue;}_104=fn(_104,p,_103[p]);}return _104;},clone:function(){return new dxc.Palette(this);}});dojo.mixin(dxc.Palette,{generators:{analogous:function(args){var high=args.high||60,low=args.low||18,base=dojo.isString(args.base)?new dojox.color.Color(args.base):args.base,hsv=base.toHsv();var h=[(hsv.h+low+360)%360,(hsv.h+Math.round(low/2)+360)%360,hsv.h,(hsv.h-Math.round(high/2)+360)%360,(hsv.h-high+360)%360];var s1=Math.max(10,(hsv.s<=95)?hsv.s+5:(100-(hsv.s-95))),s2=(hsv.s>1)?hsv.s-1:21-hsv.s,v1=(hsv.v>=92)?hsv.v-9:Math.max(hsv.v+9,20),v2=(hsv.v<=90)?Math.max(hsv.v+5,20):(95+Math.ceil((hsv.v-90)/2)),s=[s1,s2,hsv.s,s1,s1],v=[v1,v2,hsv.v,v1,v2];return new dxc.Palette(dojo.map(h,function(hue,i){return dojox.color.fromHsv(hue,s[i],v[i]);}));},monochromatic:function(args){var base=dojo.isString(args.base)?new dojox.color.Color(args.base):args.base,hsv=base.toHsv();var s1=(hsv.s-30>9)?hsv.s-30:hsv.s+30,s2=hsv.s,v1=_102(hsv.v,20,100),v2=(hsv.v-20>20)?hsv.v-20:hsv.v+60,v3=(hsv.v-50>20)?hsv.v-50:hsv.v+30;return new dxc.Palette([dojox.color.fromHsv(hsv.h,s1,v1),dojox.color.fromHsv(hsv.h,s2,v3),base,dojox.color.fromHsv(hsv.h,s1,v3),dojox.color.fromHsv(hsv.h,s2,v2)]);},triadic:function(args){var base=dojo.isString(args.base)?new dojox.color.Color(args.base):args.base,hsv=base.toHsv();var h1=(hsv.h+57+360)%360,h2=(hsv.h-157+360)%360,s1=(hsv.s>20)?hsv.s-10:hsv.s+10,s2=(hsv.s>90)?hsv.s-10:hsv.s+10,s3=(hsv.s>95)?hsv.s-5:hsv.s+5,v1=(hsv.v-20>20)?hsv.v-20:hsv.v+20,v2=(hsv.v-30>20)?hsv.v-30:hsv.v+30,v3=(hsv.v-30>70)?hsv.v-30:hsv.v+30;return new dxc.Palette([dojox.color.fromHsv(h1,s1,hsv.v),dojox.color.fromHsv(hsv.h,s2,v2),base,dojox.color.fromHsv(h2,s2,v1),dojox.color.fromHsv(h2,s3,v3)]);},complementary:function(args){var base=dojo.isString(args.base)?new dojox.color.Color(args.base):args.base,hsv=base.toHsv();var h1=((hsv.h*2)+137<360)?(hsv.h*2)+137:Math.floor(hsv.h/2)-137,s1=Math.max(hsv.s-10,0),s2=_102(hsv.s,10,100),s3=Math.min(100,hsv.s+20),v1=Math.min(100,hsv.v+30),v2=(hsv.v>20)?hsv.v-30:hsv.v+30;return new dxc.Palette([dojox.color.fromHsv(hsv.h,s1,v1),dojox.color.fromHsv(hsv.h,s2,v2),base,dojox.color.fromHsv(h1,s3,v2),dojox.color.fromHsv(h1,hsv.s,hsv.v)]);},splitComplementary:function(args){var base=dojo.isString(args.base)?new dojox.color.Color(args.base):args.base,_105=args.da||30,hsv=base.toHsv();var _106=((hsv.h*2)+137<360)?(hsv.h*2)+137:Math.floor(hsv.h/2)-137,h1=(_106-_105+360)%360,h2=(_106+_105)%360,s1=Math.max(hsv.s-10,0),s2=_102(hsv.s,10,100),s3=Math.min(100,hsv.s+20),v1=Math.min(100,hsv.v+30),v2=(hsv.v>20)?hsv.v-30:hsv.v+30;return new dxc.Palette([dojox.color.fromHsv(h1,s1,v1),dojox.color.fromHsv(h1,s2,v2),base,dojox.color.fromHsv(h2,s3,v2),dojox.color.fromHsv(h2,hsv.s,hsv.v)]);},compound:function(args){var base=dojo.isString(args.base)?new dojox.color.Color(args.base):args.base,hsv=base.toHsv();var h1=((hsv.h*2)+18<360)?(hsv.h*2)+18:Math.floor(hsv.h/2)-18,h2=((hsv.h*2)+120<360)?(hsv.h*2)+120:Math.floor(hsv.h/2)-120,h3=((hsv.h*2)+99<360)?(hsv.h*2)+99:Math.floor(hsv.h/2)-99,s1=(hsv.s-40>10)?hsv.s-40:hsv.s+40,s2=(hsv.s-10>80)?hsv.s-10:hsv.s+10,s3=(hsv.s-25>10)?hsv.s-25:hsv.s+25,v1=(hsv.v-40>10)?hsv.v-40:hsv.v+40,v2=(hsv.v-20>80)?hsv.v-20:hsv.v+20,v3=Math.max(hsv.v,20);return new dxc.Palette([dojox.color.fromHsv(h1,s1,v1),dojox.color.fromHsv(h1,s2,v2),base,dojox.color.fromHsv(h2,s3,v3),dojox.color.fromHsv(h3,s2,v2)]);},shades:function(args){var base=dojo.isString(args.base)?new dojox.color.Color(args.base):args.base,hsv=base.toHsv();var s=(hsv.s==100&&hsv.v==0)?0:hsv.s,v1=(hsv.v-50>20)?hsv.v-50:hsv.v+30,v2=(hsv.v-25>=20)?hsv.v-25:hsv.v+55,v3=(hsv.v-75>=20)?hsv.v-75:hsv.v+5,v4=Math.max(hsv.v-10,20);return new dxc.Palette([new dojox.color.fromHsv(hsv.h,s,v1),new dojox.color.fromHsv(hsv.h,s,v2),base,new dojox.color.fromHsv(hsv.h,s,v3),new dojox.color.fromHsv(hsv.h,s,v4)]);}},generate:function(base,type){if(dojo.isFunction(type)){return type({base:base});}else{if(dxc.Palette.generators[type]){return dxc.Palette.generators[type]({base:base});}}throw new Error("dojox.color.Palette.generate: the specified generator ('"+type+"') does not exist.");}});})();}if(!dojo._hasResource["dojox.lang.utils"]){dojo._hasResource["dojox.lang.utils"]=true;dojo.provide("dojox.lang.utils");(function(){var _107={},du=dojox.lang.utils,opts=Object.prototype.toString;var _108=function(o){if(o){switch(opts.call(o)){case "[object Array]":return o.slice(0);case "[object Object]":return dojo.delegate(o);}}return o;};dojo.mixin(du,{coerceType:function(_109,_10a){switch(typeof _109){case "number":return Number(eval("("+_10a+")"));case "string":return String(_10a);case "boolean":return Boolean(eval("("+_10a+")"));}return eval("("+_10a+")");},updateWithObject:function(_10b,_10c,conv){if(!_10c){return _10b;}for(var x in _10b){if(x in _10c&&!(x in _107)){var t=_10b[x];if(t&&typeof t=="object"){du.updateWithObject(t,_10c[x],conv);}else{_10b[x]=conv?du.coerceType(t,_10c[x]):_108(_10c[x]);}}}return _10b;},updateWithPattern:function(_10d,_10e,_10f,conv){if(!_10e||!_10f){return _10d;}for(var x in _10f){if(x in _10e&&!(x in _107)){_10d[x]=conv?du.coerceType(_10f[x],_10e[x]):_108(_10e[x]);}}return _10d;},merge:function(_110,_111){if(_111){var _112=opts.call(_110),_113=opts.call(_111),t,i,l,m;switch(_113){case "[object Array]":if(_113==_112){t=new Array(Math.max(_110.length,_111.length));for(i=0,l=t.length;i<l;++i){t[i]=du.merge(_110[i],_111[i]);}return t;}return _111.slice(0);case "[object Object]":if(_113==_112&&_110){t=dojo.delegate(_110);for(i in _111){if(i in _110){l=_110[i];m=_111[i];if(m!==l){t[i]=du.merge(l,m);}}else{t[i]=dojo.clone(_111[i]);}}return t;}return dojo.clone(_111);}}return _111;}});})();}if(!dojo._hasResource["dojox.gfx.gradutils"]){dojo._hasResource["dojox.gfx.gradutils"]=true;dojo.provide("dojox.gfx.gradutils");(function(){var d=dojo,m=dojox.gfx.matrix,C=d.Color;function _114(o,c){if(o<=0){return c[0].color;}var len=c.length;if(o>=1){return c[len-1].color;}for(var i=0;i<len;++i){var stop=c[i];if(stop.offset>=o){if(i){var prev=c[i-1];return d.blendColors(new C(prev.color),new C(stop.color),(o-prev.offset)/(stop.offset-prev.offset));}return stop.color;}}return c[len-1].color;};dojox.gfx.gradutils.getColor=function(fill,pt){var o;if(fill){switch(fill.type){case "linear":var _115=Math.atan2(fill.y2-fill.y1,fill.x2-fill.x1),_116=m.rotate(-_115),_117=m.project(fill.x2-fill.x1,fill.y2-fill.y1),p=m.multiplyPoint(_117,pt),pf1=m.multiplyPoint(_117,fill.x1,fill.y1),pf2=m.multiplyPoint(_117,fill.x2,fill.y2),_118=m.multiplyPoint(_116,pf2.x-pf1.x,pf2.y-pf1.y).x,o=m.multiplyPoint(_116,p.x-pf1.x,p.y-pf1.y).x/_118;break;case "radial":var dx=pt.x-fill.cx,dy=pt.y-fill.cy,o=Math.sqrt(dx*dx+dy*dy)/fill.r;break;}return _114(o,fill.colors);}return new C(fill||[0,0,0,0]);};dojox.gfx.gradutils.reverse=function(fill){if(fill){switch(fill.type){case "linear":case "radial":fill=dojo.delegate(fill);if(fill.colors){var c=fill.colors,l=c.length,i=0,stop,n=fill.colors=new Array(c.length);for(;i<l;++i){stop=c[i];n[i]={offset:1-stop.offset,color:stop.color};}n.sort(function(a,b){return a.offset-b.offset;});}break;}}return fill;};})();}if(!dojo._hasResource["dojox.charting.Theme"]){dojo._hasResource["dojox.charting.Theme"]=true;dojo.provide("dojox.charting.Theme");dojo.declare("dojox.charting.Theme",null,{shapeSpaces:{shape:1,shapeX:1,shapeY:1},constructor:function(_119){_119=_119||{};var def=dojox.charting.Theme.defaultTheme;dojo.forEach(["chart","plotarea","axis","series","marker"],function(name){this[name]=dojo.delegate(def[name],_119[name]);},this);if(_119.seriesThemes&&_119.seriesThemes.length){this.colors=null;this.seriesThemes=_119.seriesThemes.slice(0);}else{this.seriesThemes=null;this.colors=(_119.colors||dojox.charting.Theme.defaultColors).slice(0);}this.markerThemes=null;if(_119.markerThemes&&_119.markerThemes.length){this.markerThemes=_119.markerThemes.slice(0);}this.markers=dojo.delegate(dojox.charting.Theme.defaultMarkers,_119.markers);this.noGradConv=_119.noGradConv;this.noRadialConv=_119.noRadialConv;if(_119.reverseFills){this.reverseFills();}this._current=0;this._buildMarkerArray();},clone:function(){var _11a=new dojox.charting.Theme({chart:this.chart,plotarea:this.plotarea,axis:this.axis,series:this.series,marker:this.marker,colors:this.colors,markers:this.markers,seriesThemes:this.seriesThemes,markerThemes:this.markerThemes,noGradConv:this.noGradConv,noRadialConv:this.noRadialConv});dojo.forEach(["clone","clear","next","skip","addMixin","post","getTick"],function(name){if(this.hasOwnProperty(name)){_11a[name]=this[name];}},this);return _11a;},clear:function(){this._current=0;},next:function(_11b,_11c,_11d){var _11e=dojox.lang.utils.merge,_11f,_120;if(this.colors){_11f=dojo.delegate(this.series);_120=dojo.delegate(this.marker);var _121=new dojo.Color(this.colors[this._current%this.colors.length]),old;if(_11f.stroke&&_11f.stroke.color){_11f.stroke=dojo.delegate(_11f.stroke);old=new dojo.Color(_11f.stroke.color);_11f.stroke.color=new dojo.Color(_121);_11f.stroke.color.a=old.a;}else{_11f.stroke={color:_121};}if(_120.stroke&&_120.stroke.color){_120.stroke=dojo.delegate(_120.stroke);old=new dojo.Color(_120.stroke.color);_120.stroke.color=new dojo.Color(_121);_120.stroke.color.a=old.a;}else{_120.stroke={color:_121};}if(!_11f.fill||_11f.fill.type){_11f.fill=_121;}else{old=new dojo.Color(_11f.fill);_11f.fill=new dojo.Color(_121);_11f.fill.a=old.a;}if(!_120.fill||_120.fill.type){_120.fill=_121;}else{old=new dojo.Color(_120.fill);_120.fill=new dojo.Color(_121);_120.fill.a=old.a;}}else{_11f=this.seriesThemes?_11e(this.series,this.seriesThemes[this._current%this.seriesThemes.length]):this.series;_120=this.markerThemes?_11e(this.marker,this.markerThemes[this._current%this.markerThemes.length]):_11f;}var _122=_120&&_120.symbol||this._markers[this._current%this._markers.length];var _123={series:_11f,marker:_120,symbol:_122};++this._current;if(_11c){_123=this.addMixin(_123,_11b,_11c);}if(_11d){_123=this.post(_123,_11b);}return _123;},skip:function(){++this._current;},addMixin:function(_124,_125,_126,_127){if(dojo.isArray(_126)){dojo.forEach(_126,function(m){_124=this.addMixin(_124,_125,m);},this);}else{var t={};if("color" in _126){if(_125=="line"||_125=="area"){dojo.setObject("series.stroke.color",_126.color,t);dojo.setObject("marker.stroke.color",_126.color,t);}else{dojo.setObject("series.fill",_126.color,t);}}dojo.forEach(["stroke","outline","shadow","fill","font","fontColor"],function(name){var _128="marker"+name.charAt(0).toUpperCase()+name.substr(1),b=_128 in _126;if(name in _126){dojo.setObject("series."+name,_126[name],t);if(!b){dojo.setObject("marker."+name,_126[name],t);}}if(b){dojo.setObject("marker."+name,_126[_128],t);}});if("marker" in _126){t.symbol=_126.marker;}_124=dojox.lang.utils.merge(_124,t);}if(_127){_124=this.post(_124,_125);}return _124;},post:function(_129,_12a){var fill=_129.series.fill,t;if(!this.noGradConv&&this.shapeSpaces[fill.space]&&fill.type=="linear"){if(_12a=="bar"){t={x1:fill.y1,y1:fill.x1,x2:fill.y2,y2:fill.x2};}else{if(!this.noRadialConv&&fill.space=="shape"&&(_12a=="slice"||_12a=="circle")){t={type:"radial",cx:0,cy:0,r:100};}}if(t){return dojox.lang.utils.merge(_129,{series:{fill:t}});}}return _129;},getTick:function(name,_12b){var tick=this.axis.tick,_12c=name+"Tick";merge=dojox.lang.utils.merge;if(tick){if(this.axis[_12c]){tick=merge(tick,this.axis[_12c]);}}else{tick=this.axis[_12c];}if(_12b){if(tick){if(_12b[_12c]){tick=merge(tick,_12b[_12c]);}}else{tick=_12b[_12c];}}return tick;},inspectObjects:function(f){dojo.forEach(["chart","plotarea","axis","series","marker"],function(name){f(this[name]);},this);if(this.seriesThemes){dojo.forEach(this.seriesThemes,f);}if(this.markerThemes){dojo.forEach(this.markerThemes,f);}},reverseFills:function(){this.inspectObjects(function(o){if(o&&o.fill){o.fill=dojox.gfx.gradutils.reverse(o.fill);}});},addMarker:function(name,_12d){this.markers[name]=_12d;this._buildMarkerArray();},setMarkers:function(obj){this.markers=obj;this._buildMarkerArray();},_buildMarkerArray:function(){this._markers=[];for(var p in this.markers){this._markers.push(this.markers[p]);}}});dojo.mixin(dojox.charting.Theme,{defaultMarkers:{CIRCLE:"m-3,0 c0,-4 6,-4 6,0 m-6,0 c0,4 6,4 6,0",SQUARE:"m-3,-3 l0,6 6,0 0,-6 z",DIAMOND:"m0,-3 l3,3 -3,3 -3,-3 z",CROSS:"m0,-3 l0,6 m-3,-3 l6,0",X:"m-3,-3 l6,6 m0,-6 l-6,6",TRIANGLE:"m-3,3 l3,-6 3,6 z",TRIANGLE_INVERTED:"m-3,-3 l3,6 3,-6 z"},defaultColors:["#54544c","#858e94","#6e767a","#948585","#474747"],defaultTheme:{chart:{stroke:null,fill:"white",pageStyle:null},plotarea:{stroke:null,fill:"white"},axis:{stroke:{color:"#333",width:1},tick:{color:"#666",position:"center",font:"normal normal normal 7pt Tahoma",fontColor:"#333"},majorTick:{width:1,length:6},minorTick:{width:0.8,length:3},microTick:{width:0.5,length:1}},series:{stroke:{width:1.5,color:"#333"},outline:{width:0.1,color:"#ccc"},shadow:null,fill:"#ccc",font:"normal normal normal 8pt Tahoma",fontColor:"#000"},marker:{stroke:{width:1.5,color:"#333"},outline:{width:0.1,color:"#ccc"},shadow:null,fill:"#ccc",font:"normal normal normal 8pt Tahoma",fontColor:"#000"}},defineColors:function(_12e){_12e=_12e||{};var c=[],n=_12e.num||5;if(_12e.colors){var l=_12e.colors.length;for(var i=0;i<n;i++){c.push(_12e.colors[i%l]);}return c;}if(_12e.hue){var s=_12e.saturation||100;var st=_12e.low||30;var end=_12e.high||90;var l=(end+st)/2;return dojox.color.Palette.generate(dojox.color.fromHsv(_12e.hue,s,l),"monochromatic").colors;}if(_12e.generator){return dojox.color.Palette.generate(_12e.base,_12e.generator).colors;}return c;},generateGradient:function(_12f,_130,_131){var fill=dojo.delegate(_12f);fill.colors=[{offset:0,color:_130},{offset:1,color:_131}];return fill;},generateHslColor:function(_132,_133){_132=new dojox.color.Color(_132);var hsl=_132.toHsl(),_134=dojox.color.fromHsl(hsl.h,hsl.s,_133);_134.a=_132.a;return _134;},generateHslGradient:function(_135,_136,_137,_138){_135=new dojox.color.Color(_135);var hsl=_135.toHsl(),_139=dojox.color.fromHsl(hsl.h,hsl.s,_137),_13a=dojox.color.fromHsl(hsl.h,hsl.s,_138);_139.a=_13a.a=_135.a;return dojox.charting.Theme.generateGradient(_136,_139,_13a);}});}if(!dojo._hasResource["dojox.charting.Element"]){dojo._hasResource["dojox.charting.Element"]=true;dojo.provide("dojox.charting.Element");dojo.declare("dojox.charting.Element",null,{chart:null,group:null,htmlElements:null,dirty:true,constructor:function(_13b){this.chart=_13b;this.group=null;this.htmlElements=[];this.dirty=true;},createGroup:function(_13c){if(!_13c){_13c=this.chart.surface;}if(!this.group){this.group=_13c.createGroup();}return this;},purgeGroup:function(){this.destroyHtmlElements();if(this.group){this.group.clear();this.group.removeShape();this.group=null;}this.dirty=true;return this;},cleanGroup:function(_13d){this.destroyHtmlElements();if(!_13d){_13d=this.chart.surface;}if(this.group){this.group.clear();}else{this.group=_13d.createGroup();}this.dirty=true;return this;},destroyHtmlElements:function(){if(this.htmlElements.length){dojo.forEach(this.htmlElements,dojo.destroy);this.htmlElements=[];}},destroy:function(){this.purgeGroup();},_plotFill:function(fill,dim,_13e){if(!fill||!fill.type||!fill.space){return fill;}var _13f=fill.space;switch(fill.type){case "linear":if(_13f==="plot"||_13f==="shapeX"||_13f==="shapeY"){fill=dojox.gfx.makeParameters(dojox.gfx.defaultLinearGradient,fill);fill.space=_13f;if(_13f==="plot"||_13f==="shapeX"){var span=dim.height-_13e.t-_13e.b;fill.y1=_13e.t+span*fill.y1/100;fill.y2=_13e.t+span*fill.y2/100;}if(_13f==="plot"||_13f==="shapeY"){var span=dim.width-_13e.l-_13e.r;fill.x1=_13e.l+span*fill.x1/100;fill.x2=_13e.l+span*fill.x2/100;}}break;case "radial":if(_13f==="plot"){fill=dojox.gfx.makeParameters(dojox.gfx.defaultRadialGradient,fill);fill.space=_13f;var _140=dim.width-_13e.l-_13e.r,_141=dim.height-_13e.t-_13e.b;fill.cx=_13e.l+_140*fill.cx/100;fill.cy=_13e.t+_141*fill.cy/100;fill.r=fill.r*Math.sqrt(_140*_140+_141*_141)/200;}break;case "pattern":if(_13f==="plot"||_13f==="shapeX"||_13f==="shapeY"){fill=dojox.gfx.makeParameters(dojox.gfx.defaultPattern,fill);fill.space=_13f;if(_13f==="plot"||_13f==="shapeX"){var span=dim.height-_13e.t-_13e.b;fill.y=_13e.t+span*fill.y/100;fill.height=span*fill.height/100;}if(_13f==="plot"||_13f==="shapeY"){var span=dim.width-_13e.l-_13e.r;fill.x=_13e.l+span*fill.x/100;fill.width=span*fill.width/100;}}break;}return fill;},_shapeFill:function(fill,bbox){if(!fill||!fill.space){return fill;}var _142=fill.space;switch(fill.type){case "linear":if(_142==="shape"||_142==="shapeX"||_142==="shapeY"){fill=dojox.gfx.makeParameters(dojox.gfx.defaultLinearGradient,fill);fill.space=_142;if(_142==="shape"||_142==="shapeX"){var span=bbox.width;fill.x1=bbox.x+span*fill.x1/100;fill.x2=bbox.x+span*fill.x2/100;}if(_142==="shape"||_142==="shapeY"){var span=bbox.height;fill.y1=bbox.y+span*fill.y1/100;fill.y2=bbox.y+span*fill.y2/100;}}break;case "radial":if(_142==="shape"){fill=dojox.gfx.makeParameters(dojox.gfx.defaultRadialGradient,fill);fill.space=_142;fill.cx=bbox.x+bbox.width/2;fill.cy=bbox.y+bbox.height/2;fill.r=fill.r*bbox.width/200;}break;case "pattern":if(_142==="shape"||_142==="shapeX"||_142==="shapeY"){fill=dojox.gfx.makeParameters(dojox.gfx.defaultPattern,fill);fill.space=_142;if(_142==="shape"||_142==="shapeX"){var span=bbox.width;fill.x=bbox.x+span*fill.x/100;fill.width=span*fill.width/100;}if(_142==="shape"||_142==="shapeY"){var span=bbox.height;fill.y=bbox.y+span*fill.y/100;fill.height=span*fill.height/100;}}break;}return fill;},_pseudoRadialFill:function(fill,_143,_144,_145,end){if(!fill||fill.type!=="radial"||fill.space!=="shape"){return fill;}var _146=fill.space;fill=dojox.gfx.makeParameters(dojox.gfx.defaultRadialGradient,fill);fill.space=_146;if(arguments.length<4){fill.cx=_143.x;fill.cy=_143.y;fill.r=fill.r*_144/100;return fill;}var _147=arguments.length<5?_145:(end+_145)/2;return {type:"linear",x1:_143.x,y1:_143.y,x2:_143.x+fill.r*_144*Math.cos(_147)/100,y2:_143.y+fill.r*_144*Math.sin(_147)/100,colors:fill.colors};return fill;}});}if(!dojo._hasResource["dojox.charting.Series"]){dojo._hasResource["dojox.charting.Series"]=true;dojo.provide("dojox.charting.Series");dojo.declare("dojox.charting.Series",dojox.charting.Element,{constructor:function(_148,data,_149){dojo.mixin(this,_149);if(typeof this.plot!="string"){this.plot="default";}this.update(data);},clear:function(){this.dyn={};},update:function(data){if(dojo.isArray(data)){this.data=data;}else{this.source=data;this.data=this.source.data;if(this.source.setSeriesObject){this.source.setSeriesObject(this);}}this.dirty=true;this.clear();}});}if(!dojo._hasResource["dojox.charting.scaler.common"]){dojo._hasResource["dojox.charting.scaler.common"]=true;dojo.provide("dojox.charting.scaler.common");(function(){var eq=function(a,b){return Math.abs(a-b)<=0.000001*(Math.abs(a)+Math.abs(b));};dojo.mixin(dojox.charting.scaler.common,{findString:function(val,text){val=val.toLowerCase();for(var i=0;i<text.length;++i){if(val==text[i]){return true;}}return false;},getNumericLabel:function(_14a,_14b,_14c){var def=_14c.fixed?_14a.toFixed(_14b<0?-_14b:0):_14a.toString();if(_14c.labelFunc){var r=_14c.labelFunc(def,_14a,_14b);if(r){return r;}}if(_14c.labels){var l=_14c.labels,lo=0,hi=l.length;while(lo<hi){var mid=Math.floor((lo+hi)/2),val=l[mid].value;if(val<_14a){lo=mid+1;}else{hi=mid;}}if(lo<l.length&&eq(l[lo].value,_14a)){return l[lo].text;}--lo;if(lo>=0&&lo<l.length&&eq(l[lo].value,_14a)){return l[lo].text;}lo+=2;if(lo<l.length&&eq(l[lo].value,_14a)){return l[lo].text;}}return def;}});})();}if(!dojo._hasResource["dojox.charting.scaler.linear"]){dojo._hasResource["dojox.charting.scaler.linear"]=true;dojo.provide("dojox.charting.scaler.linear");(function(){var _14d=3,dc=dojox.charting,dcs=dc.scaler,dcsc=dcs.common,_14e=dcsc.findString,_14f=dcsc.getNumericLabel;var _150=function(min,max,_151,_152,_153,_154,span){_151=dojo.delegate(_151);if(!_152){if(_151.fixUpper=="major"){_151.fixUpper="minor";}if(_151.fixLower=="major"){_151.fixLower="minor";}}if(!_153){if(_151.fixUpper=="minor"){_151.fixUpper="micro";}if(_151.fixLower=="minor"){_151.fixLower="micro";}}if(!_154){if(_151.fixUpper=="micro"){_151.fixUpper="none";}if(_151.fixLower=="micro"){_151.fixLower="none";}}var _155=_14e(_151.fixLower,["major"])?Math.floor(_151.min/_152)*_152:_14e(_151.fixLower,["minor"])?Math.floor(_151.min/_153)*_153:_14e(_151.fixLower,["micro"])?Math.floor(_151.min/_154)*_154:_151.min,_156=_14e(_151.fixUpper,["major"])?Math.ceil(_151.max/_152)*_152:_14e(_151.fixUpper,["minor"])?Math.ceil(_151.max/_153)*_153:_14e(_151.fixUpper,["micro"])?Math.ceil(_151.max/_154)*_154:_151.max;if(_151.useMin){min=_155;}if(_151.useMax){max=_156;}var _157=(!_152||_151.useMin&&_14e(_151.fixLower,["major"]))?min:Math.ceil(min/_152)*_152,_158=(!_153||_151.useMin&&_14e(_151.fixLower,["major","minor"]))?min:Math.ceil(min/_153)*_153,_159=(!_154||_151.useMin&&_14e(_151.fixLower,["major","minor","micro"]))?min:Math.ceil(min/_154)*_154,_15a=!_152?0:(_151.useMax&&_14e(_151.fixUpper,["major"])?Math.round((max-_157)/_152):Math.floor((max-_157)/_152))+1,_15b=!_153?0:(_151.useMax&&_14e(_151.fixUpper,["major","minor"])?Math.round((max-_158)/_153):Math.floor((max-_158)/_153))+1,_15c=!_154?0:(_151.useMax&&_14e(_151.fixUpper,["major","minor","micro"])?Math.round((max-_159)/_154):Math.floor((max-_159)/_154))+1,_15d=_153?Math.round(_152/_153):0,_15e=_154?Math.round(_153/_154):0,_15f=_152?Math.floor(Math.log(_152)/Math.LN10):0,_160=_153?Math.floor(Math.log(_153)/Math.LN10):0,_161=span/(max-min);if(!isFinite(_161)){_161=1;}return {bounds:{lower:_155,upper:_156,from:min,to:max,scale:_161,span:span},major:{tick:_152,start:_157,count:_15a,prec:_15f},minor:{tick:_153,start:_158,count:_15b,prec:_160},micro:{tick:_154,start:_159,count:_15c,prec:0},minorPerMajor:_15d,microPerMinor:_15e,scaler:dcs.linear};};dojo.mixin(dojox.charting.scaler.linear,{buildScaler:function(min,max,span,_162){var h={fixUpper:"none",fixLower:"none",natural:false};if(_162){if("fixUpper" in _162){h.fixUpper=String(_162.fixUpper);}if("fixLower" in _162){h.fixLower=String(_162.fixLower);}if("natural" in _162){h.natural=Boolean(_162.natural);}}if("min" in _162){min=_162.min;}if("max" in _162){max=_162.max;}if(_162.includeZero){if(min>0){min=0;}if(max<0){max=0;}}h.min=min;h.useMin=true;h.max=max;h.useMax=true;if("from" in _162){min=_162.from;h.useMin=false;}if("to" in _162){max=_162.to;h.useMax=false;}if(max<=min){return _150(min,max,h,0,0,0,span);}var mag=Math.floor(Math.log(max-min)/Math.LN10),_163=_162&&("majorTickStep" in _162)?_162.majorTickStep:Math.pow(10,mag),_164=0,_165=0,_166;if(_162&&("minorTickStep" in _162)){_164=_162.minorTickStep;}else{do{_164=_163/10;if(!h.natural||_164>0.9){_166=_150(min,max,h,_163,_164,0,span);if(_166.bounds.scale*_166.minor.tick>_14d){break;}}_164=_163/5;if(!h.natural||_164>0.9){_166=_150(min,max,h,_163,_164,0,span);if(_166.bounds.scale*_166.minor.tick>_14d){break;}}_164=_163/2;if(!h.natural||_164>0.9){_166=_150(min,max,h,_163,_164,0,span);if(_166.bounds.scale*_166.minor.tick>_14d){break;}}return _150(min,max,h,_163,0,0,span);}while(false);}if(_162&&("microTickStep" in _162)){_165=_162.microTickStep;_166=_150(min,max,h,_163,_164,_165,span);}else{do{_165=_164/10;if(!h.natural||_165>0.9){_166=_150(min,max,h,_163,_164,_165,span);if(_166.bounds.scale*_166.micro.tick>_14d){break;}}_165=_164/5;if(!h.natural||_165>0.9){_166=_150(min,max,h,_163,_164,_165,span);if(_166.bounds.scale*_166.micro.tick>_14d){break;}}_165=_164/2;if(!h.natural||_165>0.9){_166=_150(min,max,h,_163,_164,_165,span);if(_166.bounds.scale*_166.micro.tick>_14d){break;}}_165=0;}while(false);}return _165?_166:_150(min,max,h,_163,_164,0,span);},buildTicks:function(_167,_168){var step,next,tick,_169=_167.major.start,_16a=_167.minor.start,_16b=_167.micro.start;if(_168.microTicks&&_167.micro.tick){step=_167.micro.tick,next=_16b;}else{if(_168.minorTicks&&_167.minor.tick){step=_167.minor.tick,next=_16a;}else{if(_167.major.tick){step=_167.major.tick,next=_169;}else{return null;}}}var _16c=1/_167.bounds.scale;if(_167.bounds.to<=_167.bounds.from||isNaN(_16c)||!isFinite(_16c)||step<=0||isNaN(step)||!isFinite(step)){return null;}var _16d=[],_16e=[],_16f=[];while(next<=_167.bounds.to+_16c){if(Math.abs(_169-next)<step/2){tick={value:_169};if(_168.majorLabels){tick.label=_14f(_169,_167.major.prec,_168);}_16d.push(tick);_169+=_167.major.tick;_16a+=_167.minor.tick;_16b+=_167.micro.tick;}else{if(Math.abs(_16a-next)<step/2){if(_168.minorTicks){tick={value:_16a};if(_168.minorLabels&&(_167.minMinorStep<=_167.minor.tick*_167.bounds.scale)){tick.label=_14f(_16a,_167.minor.prec,_168);}_16e.push(tick);}_16a+=_167.minor.tick;_16b+=_167.micro.tick;}else{if(_168.microTicks){_16f.push({value:_16b});}_16b+=_167.micro.tick;}}next+=step;}return {major:_16d,minor:_16e,micro:_16f};},getTransformerFromModel:function(_170){var _171=_170.bounds.from,_172=_170.bounds.scale;return function(x){return (x-_171)*_172;};},getTransformerFromPlot:function(_173){var _174=_173.bounds.from,_175=_173.bounds.scale;return function(x){return x/_175+_174;};}});})();}if(!dojo._hasResource["dojox.charting.axis2d.common"]){dojo._hasResource["dojox.charting.axis2d.common"]=true;dojo.provide("dojox.charting.axis2d.common");(function(){var g=dojox.gfx;var _176=function(s){s.marginLeft="0px";s.marginTop="0px";s.marginRight="0px";s.marginBottom="0px";s.paddingLeft="0px";s.paddingTop="0px";s.paddingRight="0px";s.paddingBottom="0px";s.borderLeftWidth="0px";s.borderTopWidth="0px";s.borderRightWidth="0px";s.borderBottomWidth="0px";};var _177=function(n){if(n["getBoundingClientRect"]){var bcr=n.getBoundingClientRect();return bcr.width||(bcr.right-bcr.left);}else{return dojo.marginBox(n).w;}};dojo.mixin(dojox.charting.axis2d.common,{createText:{gfx:function(_178,_179,x,y,_17a,text,font,_17b){return _179.createText({x:x,y:y,text:text,align:_17a}).setFont(font).setFill(_17b);},html:function(_17c,_17d,x,y,_17e,text,font,_17f,_180){var p=dojo.doc.createElement("div"),s=p.style,_181;_176(s);s.font=font;p.innerHTML=String(text).replace(/\s/g,"&nbsp;");s.color=_17f;s.position="absolute";s.left="-10000px";dojo.body().appendChild(p);var size=g.normalizedLength(g.splitFontString(font).size);if(!_180){_181=_177(p);}dojo.body().removeChild(p);s.position="relative";if(_180){s.width=_180+"px";switch(_17e){case "middle":s.textAlign="center";s.left=(x-_180/2)+"px";break;case "end":s.textAlign="right";s.left=(x-_180)+"px";break;default:s.left=x+"px";s.textAlign="left";break;}}else{switch(_17e){case "middle":s.left=Math.floor(x-_181/2)+"px";break;case "end":s.left=Math.floor(x-_181)+"px";break;default:s.left=Math.floor(x)+"px";break;}}s.top=Math.floor(y-size)+"px";s.whiteSpace="nowrap";var wrap=dojo.doc.createElement("div"),w=wrap.style;_176(w);w.width="0px";w.height="0px";wrap.appendChild(p);_17c.node.insertBefore(wrap,_17c.node.firstChild);return wrap;}}});})();}if(!dojo._hasResource["dojox.charting.axis2d.Base"]){dojo._hasResource["dojox.charting.axis2d.Base"]=true;dojo.provide("dojox.charting.axis2d.Base");dojo.declare("dojox.charting.axis2d.Base",dojox.charting.Element,{constructor:function(_182,_183){this.vertical=_183&&_183.vertical;},clear:function(){return this;},initialized:function(){return false;},calculate:function(min,max,span){return this;},getScaler:function(){return null;},getTicks:function(){return null;},getOffsets:function(){return {l:0,r:0,t:0,b:0};},render:function(dim,_184){this.dirty=false;return this;}});}if(!dojo._hasResource["dojox.charting.axis2d.Invisible"]){dojo._hasResource["dojox.charting.axis2d.Invisible"]=true;dojo.provide("dojox.charting.axis2d.Invisible");(function(){var dc=dojox.charting,df=dojox.lang.functional,du=dojox.lang.utils,g=dojox.gfx,lin=dc.scaler.linear,_185=du.merge,_186=4,_187=45;dojo.declare("dojox.charting.axis2d.Invisible",dojox.charting.axis2d.Base,{defaultParams:{vertical:false,fixUpper:"none",fixLower:"none",natural:false,leftBottom:true,includeZero:false,fixed:true,majorLabels:true,minorTicks:true,minorLabels:true,microTicks:false,rotation:0},optionalParams:{min:0,max:1,from:0,to:1,majorTickStep:4,minorTickStep:2,microTickStep:1,labels:[],labelFunc:null,maxLabelSize:0},constructor:function(_188,_189){this.opt=dojo.delegate(this.defaultParams,_189);du.updateWithPattern(this.opt,_189,this.optionalParams);},dependOnData:function(){return !("min" in this.opt)||!("max" in this.opt);},clear:function(){delete this.scaler;delete this.ticks;this.dirty=true;return this;},initialized:function(){return "scaler" in this&&!(this.dirty&&this.dependOnData());},setWindow:function(_18a,_18b){this.scale=_18a;this.offset=_18b;return this.clear();},getWindowScale:function(){return "scale" in this?this.scale:1;},getWindowOffset:function(){return "offset" in this?this.offset:0;},_groupLabelWidth:function(_18c,font){if(!_18c.length){return 0;}if(dojo.isObject(_18c[0])){_18c=df.map(_18c,function(_18d){return _18d.text;});}var s=_18c.join("<br>");return dojox.gfx._base._getTextBox(s,{font:font}).w||0;},calculate:function(min,max,span,_18e){if(this.initialized()){return this;}var o=this.opt;this.labels="labels" in o?o.labels:_18e;this.scaler=lin.buildScaler(min,max,span,o);var tsb=this.scaler.bounds;if("scale" in this){o.from=tsb.lower+this.offset;o.to=(tsb.upper-tsb.lower)/this.scale+o.from;if(!isFinite(o.from)||isNaN(o.from)||!isFinite(o.to)||isNaN(o.to)||o.to-o.from>=tsb.upper-tsb.lower){delete o.from;delete o.to;delete this.scale;delete this.offset;}else{if(o.from<tsb.lower){o.to+=tsb.lower-o.from;o.from=tsb.lower;}else{if(o.to>tsb.upper){o.from+=tsb.upper-o.to;o.to=tsb.upper;}}this.offset=o.from-tsb.lower;}this.scaler=lin.buildScaler(min,max,span,o);tsb=this.scaler.bounds;if(this.scale==1&&this.offset==0){delete this.scale;delete this.offset;}}var ta=this.chart.theme.axis,_18f=0,_190=o.rotation%360,_191=o.font||(ta.majorTick&&ta.majorTick.font)||(ta.tick&&ta.tick.font),size=_191?g.normalizedLength(g.splitFontString(_191).size):0,cosr=Math.abs(Math.cos(_190*Math.PI/180)),sinr=Math.abs(Math.sin(_190*Math.PI/180));if(_190<0){_190+=360;}if(size){if(this.vertical?_190!=0&&_190!=180:_190!=90&&_190!=270){if(o.maxLabelSize){_18f=o.maxLabelSize;}else{if(this.labels){_18f=this._groupLabelWidth(this.labels,_191);}else{var _192=Math.ceil(Math.log(Math.max(Math.abs(tsb.from),Math.abs(tsb.to)))/Math.LN10),t=[];if(tsb.from<0||tsb.to<0){t.push("-");}t.push(dojo.string.rep("9",_192));var _193=Math.floor(Math.log(tsb.to-tsb.from)/Math.LN10);if(_193>0){t.push(".");t.push(dojo.string.rep("9",_193));}_18f=dojox.gfx._base._getTextBox(t.join(""),{font:_191}).w;}}}else{_18f=size;}switch(_190){case 0:case 90:case 180:case 270:break;default:var gap1=Math.sqrt(_18f*_18f+size*size),gap2=this.vertical?size*cosr+_18f*sinr:_18f*cosr+size*sinr;_18f=Math.min(gap1,gap2);break;}}this.scaler.minMinorStep=_18f+_186;this.ticks=lin.buildTicks(this.scaler,o);return this;},getScaler:function(){return this.scaler;},getTicks:function(){return this.ticks;}});})();}if(!dojo._hasResource["dojox.charting.axis2d.Default"]){dojo._hasResource["dojox.charting.axis2d.Default"]=true;dojo.provide("dojox.charting.axis2d.Default");(function(){var dc=dojox.charting,du=dojox.lang.utils,g=dojox.gfx,lin=dc.scaler.linear,_194=4,_195=45;dojo.declare("dojox.charting.axis2d.Default",dojox.charting.axis2d.Invisible,{defaultParams:{vertical:false,fixUpper:"none",fixLower:"none",natural:false,leftBottom:true,includeZero:false,fixed:true,majorLabels:true,minorTicks:true,minorLabels:true,microTicks:false,rotation:0,htmlLabels:true},optionalParams:{min:0,max:1,from:0,to:1,majorTickStep:4,minorTickStep:2,microTickStep:1,labels:[],labelFunc:null,maxLabelSize:0,stroke:{},majorTick:{},minorTick:{},microTick:{},tick:{},font:"",fontColor:""},constructor:function(_196,_197){this.opt=dojo.delegate(this.defaultParams,_197);du.updateWithPattern(this.opt,_197,this.optionalParams);},getOffsets:function(){var s=this.scaler,_198={l:0,r:0,t:0,b:0};if(!s){return _198;}var o=this.opt,_199=0,a,b,c,d,gl=dc.scaler.common.getNumericLabel,_19a=0,ma=s.major,mi=s.minor,ta=this.chart.theme.axis,_19b=o.font||(ta.majorTick&&ta.majorTick.font)||(ta.tick&&ta.tick.font),_19c=this.chart.theme.getTick("major",o),_19d=this.chart.theme.getTick("minor",o),size=_19b?g.normalizedLength(g.splitFontString(_19b).size):0,_19e=o.rotation%360,_19f=o.leftBottom,cosr=Math.abs(Math.cos(_19e*Math.PI/180)),sinr=Math.abs(Math.sin(_19e*Math.PI/180));if(_19e<0){_19e+=360;}if(size){if(o.maxLabelSize){_199=o.maxLabelSize;}else{if(this.labels){_199=this._groupLabelWidth(this.labels,_19b);}else{_199=this._groupLabelWidth([gl(ma.start,ma.prec,o),gl(ma.start+ma.count*ma.tick,ma.prec,o),gl(mi.start,mi.prec,o),gl(mi.start+mi.count*mi.tick,mi.prec,o)],_19b);}}if(this.vertical){var side=_19f?"l":"r";switch(_19e){case 0:case 180:_198[side]=_199;_198.t=_198.b=size/2;break;case 90:case 270:_198[side]=size;_198.t=_198.b=_199/2;break;default:if(_19e<=_195||(180<_19e&&_19e<=(180+_195))){_198[side]=size*sinr/2+_199*cosr;_198[_19f?"t":"b"]=size*cosr/2+_199*sinr;_198[_19f?"b":"t"]=size*cosr/2;}else{if(_19e>(360-_195)||(180>_19e&&_19e>(180-_195))){_198[side]=size*sinr/2+_199*cosr;_198[_19f?"b":"t"]=size*cosr/2+_199*sinr;_198[_19f?"t":"b"]=size*cosr/2;}else{if(_19e<90||(180<_19e&&_19e<270)){_198[side]=size*sinr+_199*cosr;_198[_19f?"t":"b"]=size*cosr+_199*sinr;}else{_198[side]=size*sinr+_199*cosr;_198[_19f?"b":"t"]=size*cosr+_199*sinr;}}}break;}_198[side]+=_194+Math.max(_19c.length,_19d.length);}else{var side=_19f?"b":"t";switch(_19e){case 0:case 180:_198[side]=size;_198.l=_198.r=_199/2;break;case 90:case 270:_198[side]=_199;_198.l=_198.r=size/2;break;default:if((90-_195)<=_19e&&_19e<=90||(270-_195)<=_19e&&_19e<=270){_198[side]=size*sinr/2+_199*cosr;_198[_19f?"r":"l"]=size*cosr/2+_199*sinr;_198[_19f?"l":"r"]=size*cosr/2;}else{if(90<=_19e&&_19e<=(90+_195)||270<=_19e&&_19e<=(270+_195)){_198[side]=size*sinr/2+_199*cosr;_198[_19f?"l":"r"]=size*cosr/2+_199*sinr;_198[_19f?"r":"l"]=size*cosr/2;}else{if(_19e<_195||(180<_19e&&_19e<(180-_195))){_198[side]=size*sinr+_199*cosr;_198[_19f?"r":"l"]=size*cosr+_199*sinr;}else{_198[side]=size*sinr+_199*cosr;_198[_19f?"l":"r"]=size*cosr+_199*sinr;}}}break;}_198[side]+=_194+Math.max(_19c.length,_19d.length);}}if(_199){this._cachedLabelWidth=_199;}return _198;},render:function(dim,_1a0){if(!this.dirty){return this;}var o=this.opt,ta=this.chart.theme.axis,_1a1=o.leftBottom,_1a2=o.rotation%360,_1a3,stop,_1a4,_1a5,_1a6,_1a7,_1a8,_1a9=o.font||(ta.majorTick&&ta.majorTick.font)||(ta.tick&&ta.tick.font),_1aa=o.fontColor||(ta.majorTick&&ta.majorTick.fontColor)||(ta.tick&&ta.tick.fontColor)||"black",_1ab=this.chart.theme.getTick("major",o),_1ac=this.chart.theme.getTick("minor",o),_1ad=this.chart.theme.getTick("micro",o),_1ae=Math.max(_1ab.length,_1ac.length,_1ad.length),_1af="stroke" in o?o.stroke:ta.stroke,size=_1a9?g.normalizedLength(g.splitFontString(_1a9).size):0;if(_1a2<0){_1a2+=360;}if(this.vertical){_1a3={y:dim.height-_1a0.b};stop={y:_1a0.t};_1a4={x:0,y:-1};_1a7={x:0,y:0};_1a5={x:1,y:0};_1a6={x:_194,y:0};switch(_1a2){case 0:_1a8="end";_1a7.y=size*0.4;break;case 90:_1a8="middle";_1a7.x=-size;break;case 180:_1a8="start";_1a7.y=-size*0.4;break;case 270:_1a8="middle";break;default:if(_1a2<_195){_1a8="end";_1a7.y=size*0.4;}else{if(_1a2<90){_1a8="end";_1a7.y=size*0.4;}else{if(_1a2<(180-_195)){_1a8="start";}else{if(_1a2<(180+_195)){_1a8="start";_1a7.y=-size*0.4;}else{if(_1a2<270){_1a8="start";_1a7.x=_1a1?0:size*0.4;}else{if(_1a2<(360-_195)){_1a8="end";_1a7.x=_1a1?0:size*0.4;}else{_1a8="end";_1a7.y=size*0.4;}}}}}}}if(_1a1){_1a3.x=stop.x=_1a0.l;_1a5.x=-1;_1a6.x=-_1a6.x;}else{_1a3.x=stop.x=dim.width-_1a0.r;switch(_1a8){case "start":_1a8="end";break;case "end":_1a8="start";break;case "middle":_1a7.x+=size;break;}}}else{_1a3={x:_1a0.l};stop={x:dim.width-_1a0.r};_1a4={x:1,y:0};_1a7={x:0,y:0};_1a5={x:0,y:1};_1a6={x:0,y:_194};switch(_1a2){case 0:_1a8="middle";_1a7.y=size;break;case 90:_1a8="start";_1a7.x=-size*0.4;break;case 180:_1a8="middle";break;case 270:_1a8="end";_1a7.x=size*0.4;break;default:if(_1a2<(90-_195)){_1a8="start";_1a7.y=_1a1?size:0;}else{if(_1a2<(90+_195)){_1a8="start";_1a7.x=-size*0.4;}else{if(_1a2<180){_1a8="start";_1a7.y=_1a1?0:-size;}else{if(_1a2<(270-_195)){_1a8="end";_1a7.y=_1a1?0:-size;}else{if(_1a2<(270+_195)){_1a8="end";_1a7.y=_1a1?size*0.4:0;}else{_1a8="end";_1a7.y=_1a1?size:0;}}}}}}if(_1a1){_1a3.y=stop.y=dim.height-_1a0.b;}else{_1a3.y=stop.y=_1a0.t;_1a5.y=-1;_1a6.y=-_1a6.y;switch(_1a8){case "start":_1a8="end";break;case "end":_1a8="start";break;case "middle":_1a7.y-=size;break;}}}this.cleanGroup();try{var s=this.group,c=this.scaler,t=this.ticks,_1b0,f=lin.getTransformerFromModel(this.scaler),_1b1=(dojox.gfx.renderer=="canvas"),_1b2=_1b1||!_1a2&&this.opt.htmlLabels&&!dojo.isIE&&!dojo.isOpera?"html":"gfx",dx=_1a5.x*_1ab.length,dy=_1a5.y*_1ab.length;s.createLine({x1:_1a3.x,y1:_1a3.y,x2:stop.x,y2:stop.y}).setStroke(_1af);dojo.forEach(t.major,function(tick){var _1b3=f(tick.value),elem,x=_1a3.x+_1a4.x*_1b3,y=_1a3.y+_1a4.y*_1b3;s.createLine({x1:x,y1:y,x2:x+dx,y2:y+dy}).setStroke(_1ab);if(tick.label){elem=dc.axis2d.common.createText[_1b2](this.chart,s,x+dx+_1a6.x+(_1a2?0:_1a7.x),y+dy+_1a6.y+(_1a2?0:_1a7.y),_1a8,tick.label,_1a9,_1aa);if(_1b2=="html"){this.htmlElements.push(elem);}else{if(_1a2){elem.setTransform([{dx:_1a7.x,dy:_1a7.y},g.matrix.rotategAt(_1a2,x+dx+_1a6.x,y+dy+_1a6.y)]);}}}},this);dx=_1a5.x*_1ac.length;dy=_1a5.y*_1ac.length;_1b0=c.minMinorStep<=c.minor.tick*c.bounds.scale;dojo.forEach(t.minor,function(tick){var _1b4=f(tick.value),elem,x=_1a3.x+_1a4.x*_1b4,y=_1a3.y+_1a4.y*_1b4;s.createLine({x1:x,y1:y,x2:x+dx,y2:y+dy}).setStroke(_1ac);if(_1b0&&tick.label){elem=dc.axis2d.common.createText[_1b2](this.chart,s,x+dx+_1a6.x+(_1a2?0:_1a7.x),y+dy+_1a6.y+(_1a2?0:_1a7.y),_1a8,tick.label,_1a9,_1aa);if(_1b2=="html"){this.htmlElements.push(elem);}else{if(_1a2){elem.setTransform([{dx:_1a7.x,dy:_1a7.y},g.matrix.rotategAt(_1a2,x+dx+_1a6.x,y+dy+_1a6.y)]);}}}},this);dx=_1a5.x*_1ad.length;dy=_1a5.y*_1ad.length;dojo.forEach(t.micro,function(tick){var _1b5=f(tick.value),elem,x=_1a3.x+_1a4.x*_1b5,y=_1a3.y+_1a4.y*_1b5;s.createLine({x1:x,y1:y,x2:x+dx,y2:y+dy}).setStroke(_1ad);},this);}catch(e){}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.common"]){dojo._hasResource["dojox.charting.plot2d.common"]=true;dojo.provide("dojox.charting.plot2d.common");(function(){var df=dojox.lang.functional,dc=dojox.charting.plot2d.common;dojo.mixin(dojox.charting.plot2d.common,{makeStroke:function(_1b6){if(!_1b6){return _1b6;}if(typeof _1b6=="string"||_1b6 instanceof dojo.Color){_1b6={color:_1b6};}return dojox.gfx.makeParameters(dojox.gfx.defaultStroke,_1b6);},augmentColor:function(_1b7,_1b8){var t=new dojo.Color(_1b7),c=new dojo.Color(_1b8);c.a=t.a;return c;},augmentStroke:function(_1b9,_1ba){var s=dc.makeStroke(_1b9);if(s){s.color=dc.augmentColor(s.color,_1ba);}return s;},augmentFill:function(fill,_1bb){var fc,c=new dojo.Color(_1bb);if(typeof fill=="string"||fill instanceof dojo.Color){return dc.augmentColor(fill,_1bb);}return fill;},defaultStats:{hmin:Number.POSITIVE_INFINITY,hmax:Number.NEGATIVE_INFINITY,vmin:Number.POSITIVE_INFINITY,vmax:Number.NEGATIVE_INFINITY},collectSimpleStats:function(_1bc){var _1bd=dojo.delegate(dc.defaultStats);for(var i=0;i<_1bc.length;++i){var run=_1bc[i];for(var j=0;j<run.data.length;j++){if(run.data[j]!==null){if(typeof run.data[j]=="number"){var _1be=_1bd.vmin,_1bf=_1bd.vmax;if(!("ymin" in run)||!("ymax" in run)){dojo.forEach(run.data,function(val,i){if(val!==null){var x=i+1,y=val;if(isNaN(y)){y=0;}_1bd.hmin=Math.min(_1bd.hmin,x);_1bd.hmax=Math.max(_1bd.hmax,x);_1bd.vmin=Math.min(_1bd.vmin,y);_1bd.vmax=Math.max(_1bd.vmax,y);}});}if("ymin" in run){_1bd.vmin=Math.min(_1be,run.ymin);}if("ymax" in run){_1bd.vmax=Math.max(_1bf,run.ymax);}}else{var _1c0=_1bd.hmin,_1c1=_1bd.hmax,_1be=_1bd.vmin,_1bf=_1bd.vmax;if(!("xmin" in run)||!("xmax" in run)||!("ymin" in run)||!("ymax" in run)){dojo.forEach(run.data,function(val,i){if(val!==null){var x="x" in val?val.x:i+1,y=val.y;if(isNaN(x)){x=0;}if(isNaN(y)){y=0;}_1bd.hmin=Math.min(_1bd.hmin,x);_1bd.hmax=Math.max(_1bd.hmax,x);_1bd.vmin=Math.min(_1bd.vmin,y);_1bd.vmax=Math.max(_1bd.vmax,y);}});}if("xmin" in run){_1bd.hmin=Math.min(_1c0,run.xmin);}if("xmax" in run){_1bd.hmax=Math.max(_1c1,run.xmax);}if("ymin" in run){_1bd.vmin=Math.min(_1be,run.ymin);}if("ymax" in run){_1bd.vmax=Math.max(_1bf,run.ymax);}}break;}}}return _1bd;},calculateBarSize:function(_1c2,opt,_1c3){if(!_1c3){_1c3=1;}var gap=opt.gap,size=(_1c2-2*gap)/_1c3;if("minBarSize" in opt){size=Math.max(size,opt.minBarSize);}if("maxBarSize" in opt){size=Math.min(size,opt.maxBarSize);}size=Math.max(size,1);gap=(_1c2-size*_1c3)/2;return {size:size,gap:gap};},collectStackedStats:function(_1c4){var _1c5=dojo.clone(dc.defaultStats);if(_1c4.length){_1c5.hmin=Math.min(_1c5.hmin,1);_1c5.hmax=df.foldl(_1c4,"seed, run -> Math.max(seed, run.data.length)",_1c5.hmax);for(var i=0;i<_1c5.hmax;++i){var v=_1c4[0].data[i];if(isNaN(v)){v=0;}_1c5.vmin=Math.min(_1c5.vmin,v);for(var j=1;j<_1c4.length;++j){var t=_1c4[j].data[i];if(isNaN(t)){t=0;}v+=t;}_1c5.vmax=Math.max(_1c5.vmax,v);}}return _1c5;},curve:function(a,_1c6){var arr=a.slice(0);if(_1c6=="x"){arr[arr.length]=arr[0];}var p=dojo.map(arr,function(item,i){if(i==0){return "M"+item.x+","+item.y;}if(!isNaN(_1c6)){var dx=item.x-arr[i-1].x,dy=arr[i-1].y;return "C"+(item.x-(_1c6-1)*(dx/_1c6))+","+dy+" "+(item.x-(dx/_1c6))+","+item.y+" "+item.x+","+item.y;}else{if(_1c6=="X"||_1c6=="x"||_1c6=="S"){var p0,p1=arr[i-1],p2=arr[i],p3;var bz1x,bz1y,bz2x,bz2y;var f=1/6;if(i==1){if(_1c6=="x"){p0=arr[arr.length-2];}else{p0=p1;}f=1/3;}else{p0=arr[i-2];}if(i==(arr.length-1)){if(_1c6=="x"){p3=arr[1];}else{p3=p2;}f=1/3;}else{p3=arr[i+1];}var p1p2=Math.sqrt((p2.x-p1.x)*(p2.x-p1.x)+(p2.y-p1.y)*(p2.y-p1.y));var p0p2=Math.sqrt((p2.x-p0.x)*(p2.x-p0.x)+(p2.y-p0.y)*(p2.y-p0.y));var p1p3=Math.sqrt((p3.x-p1.x)*(p3.x-p1.x)+(p3.y-p1.y)*(p3.y-p1.y));var _1c7=p0p2*f;var _1c8=p1p3*f;if(_1c7>p1p2/2&&_1c8>p1p2/2){_1c7=p1p2/2;_1c8=p1p2/2;}else{if(_1c7>p1p2/2){_1c7=p1p2/2;_1c8=p1p2/2*p1p3/p0p2;}else{if(_1c8>p1p2/2){_1c8=p1p2/2;_1c7=p1p2/2*p0p2/p1p3;}}}if(_1c6=="S"){if(p0==p1){_1c7=0;}if(p2==p3){_1c8=0;}}bz1x=p1.x+_1c7*(p2.x-p0.x)/p0p2;bz1y=p1.y+_1c7*(p2.y-p0.y)/p0p2;bz2x=p2.x-_1c8*(p3.x-p1.x)/p1p3;bz2y=p2.y-_1c8*(p3.y-p1.y)/p1p3;}}return "C"+(bz1x+","+bz1y+" "+bz2x+","+bz2y+" "+p2.x+","+p2.y);});return p.join(" ");}});})();}if(!dojo._hasResource["dojox.charting.scaler.primitive"]){dojo._hasResource["dojox.charting.scaler.primitive"]=true;dojo.provide("dojox.charting.scaler.primitive");dojox.charting.scaler.primitive={buildScaler:function(min,max,span,_1c9){if(min==max){min-=0.5;max+=0.5;}return {bounds:{lower:min,upper:max,from:min,to:max,scale:span/(max-min),span:span},scaler:dojox.charting.scaler.primitive};},buildTicks:function(_1ca,_1cb){return {major:[],minor:[],micro:[]};},getTransformerFromModel:function(_1cc){var _1cd=_1cc.bounds.from,_1ce=_1cc.bounds.scale;return function(x){return (x-_1cd)*_1ce;};},getTransformerFromPlot:function(_1cf){var _1d0=_1cf.bounds.from,_1d1=_1cf.bounds.scale;return function(x){return x/_1d1+_1d0;};}};}if(!dojo._hasResource["dojox.charting.plot2d._PlotEvents"]){dojo._hasResource["dojox.charting.plot2d._PlotEvents"]=true;dojo.provide("dojox.charting.plot2d._PlotEvents");dojo.declare("dojox.charting.plot2d._PlotEvents",null,{constructor:function(){this._shapeEvents=[];this._eventSeries={};},destroy:function(){this.resetEvents();this.inherited(arguments);},plotEvent:function(o){},raiseEvent:function(o){this.plotEvent(o);var t=dojo.delegate(o);t.originalEvent=o.type;t.originalPlot=o.plot;t.type="onindirect";dojo.forEach(this.chart.stack,function(plot){if(plot!==this&&plot.plotEvent){t.plot=plot;plot.plotEvent(t);}},this);},connect:function(_1d2,_1d3){this.dirty=true;return dojo.connect(this,"plotEvent",_1d2,_1d3);},events:function(){var ls=this.plotEvent._listeners;if(!ls||!ls.length){return false;}for(var i in ls){if(!(i in Array.prototype)){return true;}}return false;},resetEvents:function(){if(this._shapeEvents.length){dojo.forEach(this._shapeEvents,function(item){item.shape.disconnect(item.handle);});this._shapeEvents=[];}this.raiseEvent({type:"onplotreset",plot:this});},_connectSingleEvent:function(o,_1d4){this._shapeEvents.push({shape:o.eventMask,handle:o.eventMask.connect(_1d4,this,function(e){o.type=_1d4;o.event=e;this.raiseEvent(o);o.event=null;})});},_connectEvents:function(o){o.chart=this.chart;o.plot=this;o.hAxis=this.hAxis||null;o.vAxis=this.vAxis||null;o.eventMask=o.eventMask||o.shape;this._connectSingleEvent(o,"onmouseover");this._connectSingleEvent(o,"onmouseout");this._connectSingleEvent(o,"onclick");},_reconnectEvents:function(_1d5){var a=this._eventSeries[_1d5];if(a){dojo.forEach(a,this._connectEvents,this);}},fireEvent:function(_1d6,_1d7,_1d8,_1d9){var s=this._eventSeries[_1d6];if(s&&s.length&&_1d8<s.length){var o=s[_1d8];o.type=_1d7;o.event=_1d9||null;this.raiseEvent(o);o.event=null;}}});}if(!dojo._hasResource["dojox.charting.plot2d.Base"]){dojo._hasResource["dojox.charting.plot2d.Base"]=true;dojo.provide("dojox.charting.plot2d.Base");dojo.declare("dojox.charting.plot2d.Base",[dojox.charting.Element,dojox.charting.plot2d._PlotEvents],{constructor:function(_1da,_1db){this.zoom=null,this.zoomQueue=[];this.lastWindow={vscale:1,hscale:1,xoffset:0,yoffset:0};},clear:function(){this.series=[];this._hAxis=null;this._vAxis=null;this.dirty=true;return this;},setAxis:function(axis){if(axis){this[axis.vertical?"_vAxis":"_hAxis"]=axis;}return this;},addSeries:function(run){this.series.push(run);return this;},getSeriesStats:function(){return dojox.charting.plot2d.common.collectSimpleStats(this.series);},calculateAxes:function(dim){this.initializeScalers(dim,this.getSeriesStats());return this;},isDirty:function(){return this.dirty||this._hAxis&&this._hAxis.dirty||this._vAxis&&this._vAxis.dirty;},isDataDirty:function(){return dojo.some(this.series,function(item){return item.dirty;});},performZoom:function(dim,_1dc){var vs=this._vAxis.scale||1,hs=this._hAxis.scale||1,_1dd=dim.height-_1dc.b,_1de=this._hScaler.bounds,_1df=(_1de.from-_1de.lower)*_1de.scale,_1e0=this._vScaler.bounds,_1e1=(_1e0.from-_1e0.lower)*_1e0.scale;rVScale=vs/this.lastWindow.vscale,rHScale=hs/this.lastWindow.hscale,rXOffset=(this.lastWindow.xoffset-_1df)/((this.lastWindow.hscale==1)?hs:this.lastWindow.hscale),rYOffset=(_1e1-this.lastWindow.yoffset)/((this.lastWindow.vscale==1)?vs:this.lastWindow.vscale),shape=this.group,anim=dojox.gfx.fx.animateTransform(dojo.delegate({shape:shape,duration:1200,transform:[{name:"translate",start:[0,0],end:[_1dc.l*(1-rHScale),_1dd*(1-rVScale)]},{name:"scale",start:[1,1],end:[rHScale,rVScale]},{name:"original"},{name:"translate",start:[0,0],end:[rXOffset,rYOffset]}]},this.zoom));dojo.mixin(this.lastWindow,{vscale:vs,hscale:hs,xoffset:_1df,yoffset:_1e1});this.zoomQueue.push(anim);dojo.connect(anim,"onEnd",this,function(){this.zoom=null;this.zoomQueue.shift();if(this.zoomQueue.length>0){this.zoomQueue[0].play();}});if(this.zoomQueue.length==1){this.zoomQueue[0].play();}return this;},render:function(dim,_1e2){return this;},getRequiredColors:function(){return this.series.length;},initializeScalers:function(dim,_1e3){if(this._hAxis){if(!this._hAxis.initialized()){this._hAxis.calculate(_1e3.hmin,_1e3.hmax,dim.width);}this._hScaler=this._hAxis.getScaler();}else{this._hScaler=dojox.charting.scaler.primitive.buildScaler(_1e3.hmin,_1e3.hmax,dim.width);}if(this._vAxis){if(!this._vAxis.initialized()){this._vAxis.calculate(_1e3.vmin,_1e3.vmax,dim.height);}this._vScaler=this._vAxis.getScaler();}else{this._vScaler=dojox.charting.scaler.primitive.buildScaler(_1e3.vmin,_1e3.vmax,dim.height);}return this;}});}if(!dojo._hasResource["dojox.gfx.fx"]){dojo._hasResource["dojox.gfx.fx"]=true;dojo.provide("dojox.gfx.fx");(function(){var d=dojo,g=dojox.gfx,m=g.matrix;var _1e4=function(_1e5,end){this.start=_1e5,this.end=end;};d.extend(_1e4,{getValue:function(r){return (this.end-this.start)*r+this.start;}});var _1e6=function(_1e7,end,_1e8){this.start=_1e7,this.end=end;this.units=_1e8;};d.extend(_1e6,{getValue:function(r){return (this.end-this.start)*r+this.start+this.units;}});var _1e9=function(_1ea,end){this.start=_1ea,this.end=end;this.temp=new dojo.Color();};d.extend(_1e9,{getValue:function(r){return d.blendColors(this.start,this.end,r,this.temp);}});var _1eb=function(_1ec){this.values=_1ec;this.length=_1ec.length;};d.extend(_1eb,{getValue:function(r){return this.values[Math.min(Math.floor(r*this.length),this.length-1)];}});var _1ed=function(_1ee,def){this.values=_1ee;this.def=def?def:{};};d.extend(_1ed,{getValue:function(r){var ret=dojo.clone(this.def);for(var i in this.values){ret[i]=this.values[i].getValue(r);}return ret;}});var _1ef=function(_1f0,_1f1){this.stack=_1f0;this.original=_1f1;};d.extend(_1ef,{getValue:function(r){var ret=[];dojo.forEach(this.stack,function(t){if(t instanceof m.Matrix2D){ret.push(t);return;}if(t.name=="original"&&this.original){ret.push(this.original);return;}if(!(t.name in m)){return;}var f=m[t.name];if(typeof f!="function"){ret.push(f);return;}var val=dojo.map(t.start,function(v,i){return (t.end[i]-v)*r+v;}),_1f2=f.apply(m,val);if(_1f2 instanceof m.Matrix2D){ret.push(_1f2);}},this);return ret;}});var _1f3=new d.Color(0,0,0,0);var _1f4=function(prop,obj,name,def){if(prop.values){return new _1eb(prop.values);}var _1f5,_1f6,end;if(prop.start){_1f6=g.normalizeColor(prop.start);}else{_1f6=_1f5=obj?(name?obj[name]:obj):def;}if(prop.end){end=g.normalizeColor(prop.end);}else{if(!_1f5){_1f5=obj?(name?obj[name]:obj):def;}end=_1f5;}return new _1e9(_1f6,end);};var _1f7=function(prop,obj,name,def){if(prop.values){return new _1eb(prop.values);}var _1f8,_1f9,end;if(prop.start){_1f9=prop.start;}else{_1f9=_1f8=obj?obj[name]:def;}if(prop.end){end=prop.end;}else{if(typeof _1f8!="number"){_1f8=obj?obj[name]:def;}end=_1f8;}return new _1e4(_1f9,end);};g.fx.animateStroke=function(args){if(!args.easing){args.easing=d._defaultEasing;}var anim=new d.Animation(args),_1fa=args.shape,_1fb;d.connect(anim,"beforeBegin",anim,function(){_1fb=_1fa.getStroke();var prop=args.color,_1fc={},_1fd,_1fe,end;if(prop){_1fc.color=_1f4(prop,_1fb,"color",_1f3);}prop=args.style;if(prop&&prop.values){_1fc.style=new _1eb(prop.values);}prop=args.width;if(prop){_1fc.width=_1f7(prop,_1fb,"width",1);}prop=args.cap;if(prop&&prop.values){_1fc.cap=new _1eb(prop.values);}prop=args.join;if(prop){if(prop.values){_1fc.join=new _1eb(prop.values);}else{_1fe=prop.start?prop.start:(_1fb&&_1fb.join||0);end=prop.end?prop.end:(_1fb&&_1fb.join||0);if(typeof _1fe=="number"&&typeof end=="number"){_1fc.join=new _1e4(_1fe,end);}}}this.curve=new _1ed(_1fc,_1fb);});d.connect(anim,"onAnimate",_1fa,"setStroke");return anim;};g.fx.animateFill=function(args){if(!args.easing){args.easing=d._defaultEasing;}var anim=new d.Animation(args),_1ff=args.shape,fill;d.connect(anim,"beforeBegin",anim,function(){fill=_1ff.getFill();var prop=args.color,_200={};if(prop){this.curve=_1f4(prop,fill,"",_1f3);}});d.connect(anim,"onAnimate",_1ff,"setFill");return anim;};g.fx.animateFont=function(args){if(!args.easing){args.easing=d._defaultEasing;}var anim=new d.Animation(args),_201=args.shape,font;d.connect(anim,"beforeBegin",anim,function(){font=_201.getFont();var prop=args.style,_202={},_203,_204,end;if(prop&&prop.values){_202.style=new _1eb(prop.values);}prop=args.variant;if(prop&&prop.values){_202.variant=new _1eb(prop.values);}prop=args.weight;if(prop&&prop.values){_202.weight=new _1eb(prop.values);}prop=args.family;if(prop&&prop.values){_202.family=new _1eb(prop.values);}prop=args.size;if(prop&&prop.units){_204=parseFloat(prop.start?prop.start:(_201.font&&_201.font.size||"0"));end=parseFloat(prop.end?prop.end:(_201.font&&_201.font.size||"0"));_202.size=new _1e6(_204,end,prop.units);}this.curve=new _1ed(_202,font);});d.connect(anim,"onAnimate",_201,"setFont");return anim;};g.fx.animateTransform=function(args){if(!args.easing){args.easing=d._defaultEasing;}var anim=new d.Animation(args),_205=args.shape,_206;d.connect(anim,"beforeBegin",anim,function(){_206=_205.getTransform();this.curve=new _1ef(args.transform,_206);});d.connect(anim,"onAnimate",_205,"setTransform");return anim;};})();}if(!dojo._hasResource["dojox.charting.plot2d.Default"]){dojo._hasResource["dojox.charting.plot2d.Default"]=true;dojo.provide("dojox.charting.plot2d.Default");(function(){var df=dojox.lang.functional,du=dojox.lang.utils,dc=dojox.charting.plot2d.common,_207=df.lambda("item.purgeGroup()");var _208=1200;dojo.declare("dojox.charting.plot2d.Default",dojox.charting.plot2d.Base,{defaultParams:{hAxis:"x",vAxis:"y",lines:true,areas:false,markers:false,tension:"",animate:false},optionalParams:{stroke:{},outline:{},shadow:{},fill:{},font:"",fontColor:"",markerStroke:{},markerOutline:{},markerShadow:{},markerFill:{},markerFont:"",markerFontColor:""},constructor:function(_209,_20a){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_20a);this.series=[];this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;this.animate=this.opt.animate;},render:function(dim,_20b){if(this.zoom&&!this.isDataDirty()){return this.performZoom(dim,_20b);}this.resetEvents();this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_207);this._eventSeries={};this.cleanGroup();this.group.setTransform(null);var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_20c,_20d,_20e,_20f=this.events();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();if(!run.data.length){run.dirty=false;t.skip();continue;}var _210=t.next(this.opt.areas?"area":"line",[this.opt,run],true),s=run.group,_211=[],_212=[],rseg=null,_213,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_214=this._eventSeries[run.name]=new Array(run.data.length);for(var j=0;j<run.data.length;j++){if(run.data[j]!=null){if(!rseg){rseg=[];_212.push(j);_211.push(rseg);}rseg.push(run.data[j]);}else{rseg=null;}}for(var seg=0;seg<_211.length;seg++){if(typeof _211[seg][0]=="number"){_213=dojo.map(_211[seg],function(v,i){return {x:ht(i+_212[seg]+1)+_20b.l,y:dim.height-_20b.b-vt(v)};},this);}else{_213=dojo.map(_211[seg],function(v,i){return {x:ht(v.x)+_20b.l,y:dim.height-_20b.b-vt(v.y)};},this);}var _215=this.opt.tension?dc.curve(_213,this.opt.tension):"";if(this.opt.areas&&_213.length>1){var fill=_210.series.fill;var _216=dojo.clone(_213);if(this.opt.tension){var _217="L"+_216[_216.length-1].x+","+(dim.height-_20b.b)+" L"+_216[0].x+","+(dim.height-_20b.b)+" L"+_216[0].x+","+_216[0].y;run.dyn.fill=s.createPath(_215+" "+_217).setFill(fill).getFill();}else{_216.push({x:_213[_213.length-1].x,y:dim.height-_20b.b});_216.push({x:_213[0].x,y:dim.height-_20b.b});_216.push(_213[0]);run.dyn.fill=s.createPolyline(_216).setFill(fill).getFill();}}if(this.opt.lines||this.opt.markers){_20c=_210.series.stroke;if(_210.series.outline){_20d=run.dyn.outline=dc.makeStroke(_210.series.outline);_20d.width=2*_20d.width+_20c.width;}}if(this.opt.markers){run.dyn.marker=_210.symbol;}var _218=null,_219=null,_21a=null;if(_20c&&_210.series.shadow&&_213.length>1){var _21b=_210.series.shadow,_21c=dojo.map(_213,function(c){return {x:c.x+_21b.dx,y:c.y+_21b.dy};});if(this.opt.lines){if(this.opt.tension){run.dyn.shadow=s.createPath(dc.curve(_21c,this.opt.tension)).setStroke(_21b).getStroke();}else{run.dyn.shadow=s.createPolyline(_21c).setStroke(_21b).getStroke();}}if(this.opt.markers&&_210.marker.shadow){_21b=_210.marker.shadow;_21a=dojo.map(_21c,function(c){return s.createPath("M"+c.x+" "+c.y+" "+_210.symbol).setStroke(_21b).setFill(_21b.color);},this);}}if(this.opt.lines&&_213.length>1){if(_20d){if(this.opt.tension){run.dyn.outline=s.createPath(_215).setStroke(_20d).getStroke();}else{run.dyn.outline=s.createPolyline(_213).setStroke(_20d).getStroke();}}if(this.opt.tension){run.dyn.stroke=s.createPath(_215).setStroke(_20c).getStroke();}else{run.dyn.stroke=s.createPolyline(_213).setStroke(_20c).getStroke();}}if(this.opt.markers){_218=new Array(_213.length);_219=new Array(_213.length);_20d=null;if(_210.marker.outline){_20d=dc.makeStroke(_210.marker.outline);_20d.width=2*_20d.width+(_210.marker.stroke?_210.marker.stroke.width:0);}dojo.forEach(_213,function(c,i){var path="M"+c.x+" "+c.y+" "+_210.symbol;if(_20d){_219[i]=s.createPath(path).setStroke(_20d);}_218[i]=s.createPath(path).setStroke(_210.marker.stroke).setFill(_210.marker.fill);},this);if(_20f){dojo.forEach(_218,function(s,i){var o={element:"marker",index:i+_212[seg],run:run,shape:s,outline:_219[i]||null,shadow:_21a&&_21a[i]||null,cx:_213[i].x,cy:_213[i].y};if(typeof _211[seg][0]=="number"){o.x=i+_212[seg]+1;o.y=_211[seg][i];}else{o.x=_211[seg][i].x;o.y=_211[seg][i].y;}this._connectEvents(o);_214[i+_212[seg]]=o;},this);}else{delete this._eventSeries[run.name];}}}run.dirty=false;}if(this.animate){var _21d=this.group;dojox.gfx.fx.animateTransform(dojo.delegate({shape:_21d,duration:_208,transform:[{name:"translate",start:[0,dim.height-_20b.b],end:[0,0]},{name:"scale",start:[1,0],end:[1,1]},{name:"original"}]},this.animate)).play();}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.Lines"]){dojo._hasResource["dojox.charting.plot2d.Lines"]=true;dojo.provide("dojox.charting.plot2d.Lines");dojo.declare("dojox.charting.plot2d.Lines",dojox.charting.plot2d.Default,{constructor:function(){this.opt.lines=true;}});}if(!dojo._hasResource["dojox.charting.plot2d.Areas"]){dojo._hasResource["dojox.charting.plot2d.Areas"]=true;dojo.provide("dojox.charting.plot2d.Areas");dojo.declare("dojox.charting.plot2d.Areas",dojox.charting.plot2d.Default,{constructor:function(){this.opt.lines=true;this.opt.areas=true;}});}if(!dojo._hasResource["dojox.charting.plot2d.Markers"]){dojo._hasResource["dojox.charting.plot2d.Markers"]=true;dojo.provide("dojox.charting.plot2d.Markers");dojo.declare("dojox.charting.plot2d.Markers",dojox.charting.plot2d.Default,{constructor:function(){this.opt.markers=true;}});}if(!dojo._hasResource["dojox.charting.plot2d.MarkersOnly"]){dojo._hasResource["dojox.charting.plot2d.MarkersOnly"]=true;dojo.provide("dojox.charting.plot2d.MarkersOnly");dojo.declare("dojox.charting.plot2d.MarkersOnly",dojox.charting.plot2d.Default,{constructor:function(){this.opt.lines=false;this.opt.markers=true;}});}if(!dojo._hasResource["dojox.charting.plot2d.Scatter"]){dojo._hasResource["dojox.charting.plot2d.Scatter"]=true;dojo.provide("dojox.charting.plot2d.Scatter");(function(){var df=dojox.lang.functional,du=dojox.lang.utils,dc=dojox.charting.plot2d.common,_21e=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.Scatter",dojox.charting.plot2d.Base,{defaultParams:{hAxis:"x",vAxis:"y",shadows:null,animate:null},optionalParams:{markerStroke:{},markerOutline:{},markerShadow:{},markerFill:{},markerFont:"",markerFontColor:""},constructor:function(_21f,_220){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_220);this.series=[];this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;this.animate=this.opt.animate;},render:function(dim,_221){if(this.zoom&&!this.isDataDirty()){return this.performZoom(dim,_221);}this.resetEvents();this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_21e);this._eventSeries={};this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_222=this.events();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();if(!run.data.length){run.dirty=false;t.skip();continue;}var _223=t.next("marker",[this.opt,run]),s=run.group,_224,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler);if(typeof run.data[0]=="number"){_224=dojo.map(run.data,function(v,i){return {x:ht(i+1)+_221.l,y:dim.height-_221.b-vt(v)};},this);}else{_224=dojo.map(run.data,function(v,i){return {x:ht(v.x)+_221.l,y:dim.height-_221.b-vt(v.y)};},this);}var _225=new Array(_224.length),_226=new Array(_224.length),_227=new Array(_224.length);dojo.forEach(_224,function(c,i){var _228=typeof run.data[i]=="number"?t.post(_223,"marker"):t.addMixin(_223,"marker",run.data[i],true),path="M"+c.x+" "+c.y+" "+_228.symbol;if(_228.marker.shadow){_225[i]=s.createPath("M"+(c.x+_228.marker.shadow.dx)+" "+(c.y+_228.marker.shadow.dy)+" "+_228.symbol).setStroke(_228.marker.shadow).setFill(_228.marker.shadow.color);if(this.animate){this._animateScatter(_225[i],dim.height-_221.b);}}if(_228.marker.outline){var _229=dc.makeStroke(_228.marker.outline);_229.width=2*_229.width+_228.marker.stroke.width;_227[i]=s.createPath(path).setStroke(_229);if(this.animate){this._animateScatter(_227[i],dim.height-_221.b);}}var _22a=dc.makeStroke(_228.marker.stroke),fill=this._plotFill(_228.marker.fill,dim,_221);if(fill&&(fill.type==="linear"||fill.type=="radial")){var _22b=dojox.gfx.gradutils.getColor(fill,{x:c.x,y:c.y});if(_22a){_22a.color=_22b;}_226[i]=s.createPath(path).setStroke(_22a).setFill(_22b);}else{_226[i]=s.createPath(path).setStroke(_22a).setFill(fill);}if(this.animate){this._animateScatter(_226[i],dim.height-_221.b);}},this);if(_226.length){run.dyn.stroke=_226[_226.length-1].getStroke();run.dyn.fill=_226[_226.length-1].getFill();}if(_222){var _22c=new Array(_226.length);dojo.forEach(_226,function(s,i){var o={element:"marker",index:i,run:run,shape:s,outline:_227&&_227[i]||null,shadow:_225&&_225[i]||null,cx:_224[i].x,cy:_224[i].y};if(typeof run.data[0]=="number"){o.x=i+1;o.y=run.data[i];}else{o.x=run.data[i].x;o.y=run.data[i].y;}this._connectEvents(o);_22c[i]=o;},this);this._eventSeries[run.name]=_22c;}else{delete this._eventSeries[run.name];}run.dirty=false;}this.dirty=false;return this;},_animateScatter:function(_22d,_22e){dojox.gfx.fx.animateTransform(dojo.delegate({shape:_22d,duration:1200,transform:[{name:"translate",start:[0,_22e],end:[0,0]},{name:"scale",start:[0,0],end:[1,1]},{name:"original"}]},this.animate)).play();}});})();}if(!dojo._hasResource["dojox.lang.functional.sequence"]){dojo._hasResource["dojox.lang.functional.sequence"]=true;dojo.provide("dojox.lang.functional.sequence");(function(){var d=dojo,df=dojox.lang.functional;d.mixin(df,{repeat:function(n,f,z,o){o=o||d.global;f=df.lambda(f);var t=new Array(n),i=1;t[0]=z;for(;i<n;t[i]=z=f.call(o,z),++i){}return t;},until:function(pr,f,z,o){o=o||d.global;f=df.lambda(f);pr=df.lambda(pr);var t=[];for(;!pr.call(o,z);t.push(z),z=f.call(o,z)){}return t;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.Stacked"]){dojo._hasResource["dojox.charting.plot2d.Stacked"]=true;dojo.provide("dojox.charting.plot2d.Stacked");(function(){var df=dojox.lang.functional,dc=dojox.charting.plot2d.common,_22f=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.Stacked",dojox.charting.plot2d.Default,{getSeriesStats:function(){var _230=dc.collectStackedStats(this.series);this._maxRunLength=_230.hmax;return _230;},render:function(dim,_231){if(this._maxRunLength<=0){return this;}var acc=df.repeat(this._maxRunLength,"-> 0",0);for(var i=0;i<this.series.length;++i){var run=this.series[i];for(var j=0;j<run.data.length;++j){var v=run.data[j];if(v!==null){if(isNaN(v)){v=0;}acc[j]+=v;}}}if(this.zoom&&!this.isDataDirty()){return this.performZoom(dim,_231);}this.resetEvents();this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_22f);this._eventSeries={};this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_232=this.events(),ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler);for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();var _233=t.next(this.opt.areas?"area":"line",[this.opt,run],true),s=run.group,_234,_235=dojo.map(acc,function(v,i){return {x:ht(i+1)+_231.l,y:dim.height-_231.b-vt(v)};},this);var _236=this.opt.tension?dc.curve(_235,this.opt.tension):"";if(this.opt.areas){var _237=dojo.clone(_235);if(this.opt.tension){var p=dc.curve(_237,this.opt.tension);p+=" L"+_235[_235.length-1].x+","+(dim.height-_231.b)+" L"+_235[0].x+","+(dim.height-_231.b)+" L"+_235[0].x+","+_235[0].y;run.dyn.fill=s.createPath(p).setFill(_233.series.fill).getFill();}else{_237.push({x:_235[_235.length-1].x,y:dim.height-_231.b});_237.push({x:_235[0].x,y:dim.height-_231.b});_237.push(_235[0]);run.dyn.fill=s.createPolyline(_237).setFill(_233.series.fill).getFill();}}if(this.opt.lines||this.opt.markers){if(_233.series.outline){_234=dc.makeStroke(_233.series.outline);_234.width=2*_234.width+_233.series.stroke.width;}}if(this.opt.markers){run.dyn.marker=_233.symbol;}var _238,_239,_23a;if(_233.series.shadow&&_233.series.stroke){var _23b=_233.series.shadow,_23c=dojo.map(_235,function(c){return {x:c.x+_23b.dx,y:c.y+_23b.dy};});if(this.opt.lines){if(this.opt.tension){run.dyn.shadow=s.createPath(dc.curve(_23c,this.opt.tension)).setStroke(_23b).getStroke();}else{run.dyn.shadow=s.createPolyline(_23c).setStroke(_23b).getStroke();}}if(this.opt.markers){_23b=_233.marker.shadow;_23a=dojo.map(_23c,function(c){return s.createPath("M"+c.x+" "+c.y+" "+_233.symbol).setStroke(_23b).setFill(_23b.color);},this);}}if(this.opt.lines){if(_234){if(this.opt.tension){run.dyn.outline=s.createPath(_236).setStroke(_234).getStroke();}else{run.dyn.outline=s.createPolyline(_235).setStroke(_234).getStroke();}}if(this.opt.tension){run.dyn.stroke=s.createPath(_236).setStroke(_233.series.stroke).getStroke();}else{run.dyn.stroke=s.createPolyline(_235).setStroke(_233.series.stroke).getStroke();}}if(this.opt.markers){_238=new Array(_235.length);_239=new Array(_235.length);_234=null;if(_233.marker.outline){_234=dc.makeStroke(_233.marker.outline);_234.width=2*_234.width+(_233.marker.stroke?_233.marker.stroke.width:0);}dojo.forEach(_235,function(c,i){var path="M"+c.x+" "+c.y+" "+_233.symbol;if(_234){_239[i]=s.createPath(path).setStroke(_234);}_238[i]=s.createPath(path).setStroke(_233.marker.stroke).setFill(_233.marker.fill);},this);if(_232){var _23d=new Array(_238.length);dojo.forEach(_238,function(s,i){var o={element:"marker",index:i,run:run,shape:s,outline:_239[i]||null,shadow:_23a&&_23a[i]||null,cx:_235[i].x,cy:_235[i].y,x:i+1,y:run.data[i]};this._connectEvents(o);_23d[i]=o;},this);this._eventSeries[run.name]=_23d;}else{delete this._eventSeries[run.name];}}run.dirty=false;for(var j=0;j<run.data.length;++j){var v=run.data[j];if(v!==null){if(isNaN(v)){v=0;}acc[j]-=v;}}}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.StackedLines"]){dojo._hasResource["dojox.charting.plot2d.StackedLines"]=true;dojo.provide("dojox.charting.plot2d.StackedLines");dojo.declare("dojox.charting.plot2d.StackedLines",dojox.charting.plot2d.Stacked,{constructor:function(){this.opt.lines=true;}});}if(!dojo._hasResource["dojox.charting.plot2d.StackedAreas"]){dojo._hasResource["dojox.charting.plot2d.StackedAreas"]=true;dojo.provide("dojox.charting.plot2d.StackedAreas");dojo.declare("dojox.charting.plot2d.StackedAreas",dojox.charting.plot2d.Stacked,{constructor:function(){this.opt.lines=true;this.opt.areas=true;}});}if(!dojo._hasResource["dojox.charting.plot2d.Columns"]){dojo._hasResource["dojox.charting.plot2d.Columns"]=true;dojo.provide("dojox.charting.plot2d.Columns");(function(){var df=dojox.lang.functional,du=dojox.lang.utils,dc=dojox.charting.plot2d.common,_23e=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.Columns",dojox.charting.plot2d.Base,{defaultParams:{hAxis:"x",vAxis:"y",gap:0,animate:null},optionalParams:{minBarSize:1,maxBarSize:1,stroke:{},outline:{},shadow:{},fill:{},font:"",fontColor:""},constructor:function(_23f,_240){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_240);du.updateWithPattern(this.opt,_240,this.optionalParams);this.series=[];this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;this.animate=this.opt.animate;},getSeriesStats:function(){var _241=dc.collectSimpleStats(this.series);_241.hmin-=0.5;_241.hmax+=0.5;return _241;},render:function(dim,_242){if(this.zoom&&!this.isDataDirty()){return this.performZoom(dim,_242);}this.resetEvents();this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_23e);this._eventSeries={};this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,f,gap,_243,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_244=Math.max(0,this._vScaler.bounds.lower),_245=vt(_244),_246=this.events();f=dc.calculateBarSize(this._hScaler.bounds.scale,this.opt);gap=f.gap;_243=f.size;for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();var _247=t.next("column",[this.opt,run]),s=run.group,_248=new Array(run.data.length);for(var j=0;j<run.data.length;++j){var _249=run.data[j];if(_249!==null){var v=typeof _249=="number"?_249:_249.y,vv=vt(v),_24a=vv-_245,h=Math.abs(_24a),_24b=typeof _249!="number"?t.addMixin(_247,"column",_249,true):t.post(_247,"column");if(_243>=1&&h>=1){var rect={x:_242.l+ht(j+0.5)+gap,y:dim.height-_242.b-(v>_244?vv:_245),width:_243,height:h};var _24c=this._plotFill(_24b.series.fill,dim,_242);_24c=this._shapeFill(_24c,rect);var _24d=s.createRect(rect).setFill(_24c).setStroke(_24b.series.stroke);run.dyn.fill=_24d.getFill();run.dyn.stroke=_24d.getStroke();if(_246){var o={element:"column",index:j,run:run,shape:_24d,x:j+0.5,y:v};this._connectEvents(o);_248[j]=o;}if(this.animate){this._animateColumn(_24d,dim.height-_242.b-_245,h);}}}}this._eventSeries[run.name]=_248;run.dirty=false;}this.dirty=false;return this;},_animateColumn:function(_24e,_24f,_250){dojox.gfx.fx.animateTransform(dojo.delegate({shape:_24e,duration:1200,transform:[{name:"translate",start:[0,_24f-(_24f/_250)],end:[0,0]},{name:"scale",start:[1,1/_250],end:[1,1]},{name:"original"}]},this.animate)).play();}});})();}if(!dojo._hasResource["dojox.charting.plot2d.StackedColumns"]){dojo._hasResource["dojox.charting.plot2d.StackedColumns"]=true;dojo.provide("dojox.charting.plot2d.StackedColumns");(function(){var df=dojox.lang.functional,dc=dojox.charting.plot2d.common,_251=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.StackedColumns",dojox.charting.plot2d.Columns,{getSeriesStats:function(){var _252=dc.collectStackedStats(this.series);this._maxRunLength=_252.hmax;_252.hmin-=0.5;_252.hmax+=0.5;return _252;},render:function(dim,_253){if(this._maxRunLength<=0){return this;}var acc=df.repeat(this._maxRunLength,"-> 0",0);for(var i=0;i<this.series.length;++i){var run=this.series[i];for(var j=0;j<run.data.length;++j){var _254=run.data[j];if(_254!==null){var v=typeof _254=="number"?_254:_254.y;if(isNaN(v)){v=0;}acc[j]+=v;}}}if(this.zoom&&!this.isDataDirty()){return this.performZoom(dim,_253);}this.resetEvents();this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_251);this._eventSeries={};this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,f,gap,_255,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_256=this.events();f=dc.calculateBarSize(this._hScaler.bounds.scale,this.opt);gap=f.gap;_255=f.size;for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();var _257=t.next("column",[this.opt,run]),s=run.group,_258=new Array(acc.length);for(var j=0;j<acc.length;++j){var _254=run.data[j];if(_254!==null){var v=acc[j],_259=vt(v),_25a=typeof _254!="number"?t.addMixin(_257,"column",_254,true):t.post(_257,"column");if(_255>=1&&_259>=1){var rect={x:_253.l+ht(j+0.5)+gap,y:dim.height-_253.b-vt(v),width:_255,height:_259};var _25b=this._plotFill(_25a.series.fill,dim,_253);_25b=this._shapeFill(_25b,rect);var _25c=s.createRect(rect).setFill(_25b).setStroke(_25a.series.stroke);run.dyn.fill=_25c.getFill();run.dyn.stroke=_25c.getStroke();if(_256){var o={element:"column",index:j,run:run,shape:_25c,x:j+0.5,y:v};this._connectEvents(o);_258[j]=o;}if(this.animate){this._animateColumn(_25c,dim.height-_253.b,_259);}}}}this._eventSeries[run.name]=_258;run.dirty=false;for(var j=0;j<run.data.length;++j){var _254=run.data[j];if(_254!==null){var v=typeof _254=="number"?_254:_254.y;if(isNaN(v)){v=0;}acc[j]-=v;}}}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.ClusteredColumns"]){dojo._hasResource["dojox.charting.plot2d.ClusteredColumns"]=true;dojo.provide("dojox.charting.plot2d.ClusteredColumns");(function(){var df=dojox.lang.functional,dc=dojox.charting.plot2d.common,_25d=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.ClusteredColumns",dojox.charting.plot2d.Columns,{render:function(dim,_25e){if(this.zoom&&!this.isDataDirty()){return this.performZoom(dim,_25e);}this.resetEvents();this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_25d);this._eventSeries={};this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,f,gap,_25f,_260,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_261=Math.max(0,this._vScaler.bounds.lower),_262=vt(_261),_263=this.events();f=dc.calculateBarSize(this._hScaler.bounds.scale,this.opt,this.series.length);gap=f.gap;_25f=_260=f.size;for(var i=0;i<this.series.length;++i){var run=this.series[i],_264=_260*i;if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();var _265=t.next("column",[this.opt,run]),s=run.group,_266=new Array(run.data.length);for(var j=0;j<run.data.length;++j){var _267=run.data[j];if(_267!==null){var v=typeof _267=="number"?_267:_267.y,vv=vt(v),_268=vv-_262,h=Math.abs(_268),_269=typeof _267!="number"?t.addMixin(_265,"column",_267,true):t.post(_265,"column");if(_25f>=1&&h>=1){var rect={x:_25e.l+ht(j+0.5)+gap+_264,y:dim.height-_25e.b-(v>_261?vv:_262),width:_25f,height:h};var _26a=this._plotFill(_269.series.fill,dim,_25e);_26a=this._shapeFill(_26a,rect);var _26b=s.createRect(rect).setFill(_26a).setStroke(_269.series.stroke);run.dyn.fill=_26b.getFill();run.dyn.stroke=_26b.getStroke();if(_263){var o={element:"column",index:j,run:run,shape:_26b,x:j+0.5,y:v};this._connectEvents(o);_266[j]=o;}if(this.animate){this._animateColumn(_26b,dim.height-_25e.b-_262,h);}}}}this._eventSeries[run.name]=_266;run.dirty=false;}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.Bars"]){dojo._hasResource["dojox.charting.plot2d.Bars"]=true;dojo.provide("dojox.charting.plot2d.Bars");(function(){var df=dojox.lang.functional,du=dojox.lang.utils,dc=dojox.charting.plot2d.common,_26c=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.Bars",dojox.charting.plot2d.Base,{defaultParams:{hAxis:"x",vAxis:"y",gap:0,animate:null},optionalParams:{minBarSize:1,maxBarSize:1,stroke:{},outline:{},shadow:{},fill:{},font:"",fontColor:""},constructor:function(_26d,_26e){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_26e);du.updateWithPattern(this.opt,_26e,this.optionalParams);this.series=[];this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;this.animate=this.opt.animate;},getSeriesStats:function(){var _26f=dc.collectSimpleStats(this.series),t;_26f.hmin-=0.5;_26f.hmax+=0.5;t=_26f.hmin,_26f.hmin=_26f.vmin,_26f.vmin=t;t=_26f.hmax,_26f.hmax=_26f.vmax,_26f.vmax=t;return _26f;},render:function(dim,_270){if(this.zoom&&!this.isDataDirty()){return this.performZoom(dim,_270);}this.dirty=this.isDirty();this.resetEvents();if(this.dirty){dojo.forEach(this.series,_26c);this._eventSeries={};this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,f,gap,_271,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_272=Math.max(0,this._hScaler.bounds.lower),_273=ht(_272),_274=this.events();f=dc.calculateBarSize(this._vScaler.bounds.scale,this.opt);gap=f.gap;_271=f.size;for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();var _275=t.next("bar",[this.opt,run]),s=run.group,_276=new Array(run.data.length);for(var j=0;j<run.data.length;++j){var _277=run.data[j];if(_277!==null){var v=typeof _277=="number"?_277:_277.y,hv=ht(v),_278=hv-_273,w=Math.abs(_278),_279=typeof _277!="number"?t.addMixin(_275,"bar",_277,true):t.post(_275,"bar");if(w>=1&&_271>=1){var rect={x:_270.l+(v<_272?hv:_273),y:dim.height-_270.b-vt(j+1.5)+gap,width:w,height:_271};var _27a=this._plotFill(_279.series.fill,dim,_270);_27a=this._shapeFill(_27a,rect);var _27b=s.createRect(rect).setFill(_27a).setStroke(_279.series.stroke);run.dyn.fill=_27b.getFill();run.dyn.stroke=_27b.getStroke();if(_274){var o={element:"bar",index:j,run:run,shape:_27b,x:v,y:j+1.5};this._connectEvents(o);_276[j]=o;}if(this.animate){this._animateBar(_27b,_270.l+_273,-w);}}}}this._eventSeries[run.name]=_276;run.dirty=false;}this.dirty=false;return this;},_animateBar:function(_27c,_27d,_27e){dojox.gfx.fx.animateTransform(dojo.delegate({shape:_27c,duration:1200,transform:[{name:"translate",start:[_27d-(_27d/_27e),0],end:[0,0]},{name:"scale",start:[1/_27e,1],end:[1,1]},{name:"original"}]},this.animate)).play();}});})();}if(!dojo._hasResource["dojox.charting.plot2d.StackedBars"]){dojo._hasResource["dojox.charting.plot2d.StackedBars"]=true;dojo.provide("dojox.charting.plot2d.StackedBars");(function(){var df=dojox.lang.functional,dc=dojox.charting.plot2d.common,_27f=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.StackedBars",dojox.charting.plot2d.Bars,{getSeriesStats:function(){var _280=dc.collectStackedStats(this.series),t;this._maxRunLength=_280.hmax;_280.hmin-=0.5;_280.hmax+=0.5;t=_280.hmin,_280.hmin=_280.vmin,_280.vmin=t;t=_280.hmax,_280.hmax=_280.vmax,_280.vmax=t;return _280;},render:function(dim,_281){if(this._maxRunLength<=0){return this;}var acc=df.repeat(this._maxRunLength,"-> 0",0);for(var i=0;i<this.series.length;++i){var run=this.series[i];for(var j=0;j<run.data.length;++j){var _282=run.data[j];if(_282!==null){var v=typeof _282=="number"?_282:_282.y;if(isNaN(v)){v=0;}acc[j]+=v;}}}if(this.zoom&&!this.isDataDirty()){return this.performZoom(dim,_281);}this.resetEvents();this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_27f);this._eventSeries={};this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,f,gap,_283,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_284=this.events();f=dc.calculateBarSize(this._vScaler.bounds.scale,this.opt);gap=f.gap;_283=f.size;for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();var _285=t.next("bar",[this.opt,run]),s=run.group,_286=new Array(acc.length);for(var j=0;j<acc.length;++j){var _282=run.data[j];if(_282!==null){var v=acc[j],_287=ht(v),_288=typeof _282!="number"?t.addMixin(_285,"bar",_282,true):t.post(_285,"bar");if(_287>=1&&_283>=1){var rect={x:_281.l,y:dim.height-_281.b-vt(j+1.5)+gap,width:_287,height:_283};var _289=this._plotFill(_288.series.fill,dim,_281);_289=this._shapeFill(_289,rect);var _28a=s.createRect(rect).setFill(_289).setStroke(_288.series.stroke);run.dyn.fill=_28a.getFill();run.dyn.stroke=_28a.getStroke();if(_284){var o={element:"bar",index:j,run:run,shape:_28a,x:v,y:j+1.5};this._connectEvents(o);_286[j]=o;}if(this.animate){this._animateBar(_28a,_281.l,-_287);}}}}this._eventSeries[run.name]=_286;run.dirty=false;for(var j=0;j<run.data.length;++j){var _282=run.data[j];if(_282!==null){var v=typeof _282=="number"?_282:_282.y;if(isNaN(v)){v=0;}acc[j]-=v;}}}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.ClusteredBars"]){dojo._hasResource["dojox.charting.plot2d.ClusteredBars"]=true;dojo.provide("dojox.charting.plot2d.ClusteredBars");(function(){var df=dojox.lang.functional,dc=dojox.charting.plot2d.common,_28b=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.ClusteredBars",dojox.charting.plot2d.Bars,{render:function(dim,_28c){if(this.zoom&&!this.isDataDirty()){return this.performZoom(dim,_28c);}this.resetEvents();this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_28b);this._eventSeries={};this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,f,gap,_28d,_28e,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_28f=Math.max(0,this._hScaler.bounds.lower),_290=ht(_28f),_291=this.events();f=dc.calculateBarSize(this._vScaler.bounds.scale,this.opt,this.series.length);gap=f.gap;_28d=_28e=f.size;for(var i=this.series.length-1;i>=0;--i){var run=this.series[i],_292=_28e*(this.series.length-i-1);if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();var _293=t.next("bar",[this.opt,run]),s=run.group,_294=new Array(run.data.length);for(var j=0;j<run.data.length;++j){var _295=run.data[j];if(_295!==null){var v=typeof _295=="number"?_295:_295.y,hv=ht(v),_296=hv-_290,w=Math.abs(_296),_297=typeof _295!="number"?t.addMixin(_293,"bar",_295,true):t.post(_293,"bar");if(w>=1&&_28d>=1){var rect={x:_28c.l+(v<_28f?hv:_290),y:dim.height-_28c.b-vt(j+1.5)+gap+_292,width:w,height:_28d};var _298=this._plotFill(_297.series.fill,dim,_28c);_298=this._shapeFill(_298,rect);var _299=s.createRect(rect).setFill(_298).setStroke(_297.series.stroke);run.dyn.fill=_299.getFill();run.dyn.stroke=_299.getStroke();if(_291){var o={element:"bar",index:j,run:run,shape:_299,x:v,y:j+1.5};this._connectEvents(o);_294[j]=o;}if(this.animate){this._animateBar(_299,_28c.l+_290,-_296);}}}}this._eventSeries[run.name]=_294;run.dirty=false;}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.Grid"]){dojo._hasResource["dojox.charting.plot2d.Grid"]=true;dojo.provide("dojox.charting.plot2d.Grid");(function(){var du=dojox.lang.utils,dc=dojox.charting.plot2d.common;dojo.declare("dojox.charting.plot2d.Grid",dojox.charting.Element,{defaultParams:{hAxis:"x",vAxis:"y",hMajorLines:true,hMinorLines:false,vMajorLines:true,vMinorLines:false,hStripes:"none",vStripes:"none",animate:null},optionalParams:{},constructor:function(_29a,_29b){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_29b);this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;this.dirty=true;this.animate=this.opt.animate;this.zoom=null,this.zoomQueue=[];this.lastWindow={vscale:1,hscale:1,xoffset:0,yoffset:0};},clear:function(){this._hAxis=null;this._vAxis=null;this.dirty=true;return this;},setAxis:function(axis){if(axis){this[axis.vertical?"_vAxis":"_hAxis"]=axis;}return this;},addSeries:function(run){return this;},getSeriesStats:function(){return dojo.delegate(dc.defaultStats);},initializeScalers:function(){return this;},isDirty:function(){return this.dirty||this._hAxis&&this._hAxis.dirty||this._vAxis&&this._vAxis.dirty;},performZoom:function(dim,_29c){var vs=this._vAxis.scale||1,hs=this._hAxis.scale||1,_29d=dim.height-_29c.b,_29e=this._hAxis.getScaler().bounds,_29f=(_29e.from-_29e.lower)*_29e.scale,_2a0=this._vAxis.getScaler().bounds,_2a1=(_2a0.from-_2a0.lower)*_2a0.scale;rVScale=vs/this.lastWindow.vscale,rHScale=hs/this.lastWindow.hscale,rXOffset=(this.lastWindow.xoffset-_29f)/((this.lastWindow.hscale==1)?hs:this.lastWindow.hscale),rYOffset=(_2a1-this.lastWindow.yoffset)/((this.lastWindow.vscale==1)?vs:this.lastWindow.vscale),shape=this.group,anim=dojox.gfx.fx.animateTransform(dojo.delegate({shape:shape,duration:1200,transform:[{name:"translate",start:[0,0],end:[_29c.l*(1-rHScale),_29d*(1-rVScale)]},{name:"scale",start:[1,1],end:[rHScale,rVScale]},{name:"original"},{name:"translate",start:[0,0],end:[rXOffset,rYOffset]}]},this.zoom));dojo.mixin(this.lastWindow,{vscale:vs,hscale:hs,xoffset:_29f,yoffset:_2a1});this.zoomQueue.push(anim);dojo.connect(anim,"onEnd",this,function(){this.zoom=null;this.zoomQueue.shift();if(this.zoomQueue.length>0){this.zoomQueue[0].play();}});if(this.zoomQueue.length==1){this.zoomQueue[0].play();}return this;},getRequiredColors:function(){return 0;},render:function(dim,_2a2){if(this.zoom){return this.performZoom(dim,_2a2);}this.dirty=this.isDirty();if(!this.dirty){return this;}this.cleanGroup();var s=this.group,ta=this.chart.theme.axis;try{var _2a3=this._vAxis.getScaler(),vt=_2a3.scaler.getTransformerFromModel(_2a3),_2a4=this._vAxis.getTicks();if(this.opt.hMinorLines){dojo.forEach(_2a4.minor,function(tick){var y=dim.height-_2a2.b-vt(tick.value);var _2a5=s.createLine({x1:_2a2.l,y1:y,x2:dim.width-_2a2.r,y2:y}).setStroke(ta.minorTick);if(this.animate){this._animateGrid(_2a5,"h",_2a2.l,_2a2.r+_2a2.l-dim.width);}},this);}if(this.opt.hMajorLines){dojo.forEach(_2a4.major,function(tick){var y=dim.height-_2a2.b-vt(tick.value);var _2a6=s.createLine({x1:_2a2.l,y1:y,x2:dim.width-_2a2.r,y2:y}).setStroke(ta.majorTick);if(this.animate){this._animateGrid(_2a6,"h",_2a2.l,_2a2.r+_2a2.l-dim.width);}},this);}}catch(e){}try{var _2a7=this._hAxis.getScaler(),ht=_2a7.scaler.getTransformerFromModel(_2a7),_2a4=this._hAxis.getTicks();if(_2a4&&this.opt.vMinorLines){dojo.forEach(_2a4.minor,function(tick){var x=_2a2.l+ht(tick.value);var _2a8=s.createLine({x1:x,y1:_2a2.t,x2:x,y2:dim.height-_2a2.b}).setStroke(ta.minorTick);if(this.animate){this._animateGrid(_2a8,"v",dim.height-_2a2.b,dim.height-_2a2.b-_2a2.t);}},this);}if(_2a4&&this.opt.vMajorLines){dojo.forEach(_2a4.major,function(tick){var x=_2a2.l+ht(tick.value);var _2a9=s.createLine({x1:x,y1:_2a2.t,x2:x,y2:dim.height-_2a2.b}).setStroke(ta.majorTick);if(this.animate){this._animateGrid(_2a9,"v",dim.height-_2a2.b,dim.height-_2a2.b-_2a2.t);}},this);}}catch(e){}this.dirty=false;return this;},_animateGrid:function(_2aa,type,_2ab,size){var _2ac=type=="h"?[_2ab,0]:[0,_2ab];var _2ad=type=="h"?[1/size,1]:[1,1/size];dojox.gfx.fx.animateTransform(dojo.delegate({shape:_2aa,duration:1200,transform:[{name:"translate",start:_2ac,end:[0,0]},{name:"scale",start:_2ad,end:[1,1]},{name:"original"}]},this.animate)).play();}});})();}if(!dojo._hasResource["dojox.charting.plot2d.Pie"]){dojo._hasResource["dojox.charting.plot2d.Pie"]=true;dojo.provide("dojox.charting.plot2d.Pie");(function(){var df=dojox.lang.functional,du=dojox.lang.utils,dc=dojox.charting.plot2d.common,da=dojox.charting.axis2d.common,g=dojox.gfx,m=g.matrix,_2ae=0.2;dojo.declare("dojox.charting.plot2d.Pie",[dojox.charting.Element,dojox.charting.plot2d._PlotEvents],{defaultParams:{labels:true,ticks:false,fixed:true,precision:1,labelOffset:20,labelStyle:"default",htmlLabels:true,radGrad:"native",fanSize:5,startAngle:0},optionalParams:{radius:0,stroke:{},outline:{},shadow:{},fill:{},font:"",fontColor:""},constructor:function(_2af,_2b0){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_2b0);du.updateWithPattern(this.opt,_2b0,this.optionalParams);this.run=null;this.dyn=[];},clear:function(){this.dirty=true;this.dyn=[];this.run=null;return this;},setAxis:function(axis){return this;},addSeries:function(run){this.run=run;return this;},getSeriesStats:function(){return dojo.delegate(dc.defaultStats);},initializeScalers:function(){return this;},getRequiredColors:function(){return this.run?this.run.data.length:0;},render:function(dim,_2b1){if(!this.dirty){return this;}this.resetEvents();this.dirty=false;this._eventSeries={};this.cleanGroup();var s=this.group,t=this.chart.theme;if(!this.run||!this.run.data.length){return this;}var rx=(dim.width-_2b1.l-_2b1.r)/2,ry=(dim.height-_2b1.t-_2b1.b)/2,r=Math.min(rx,ry),_2b2="font" in this.opt?this.opt.font:t.axis.font,size=_2b2?g.normalizedLength(g.splitFontString(_2b2).size):0,_2b3="fontColor" in this.opt?this.opt.fontColor:t.axis.fontColor,_2b4=m._degToRad(this.opt.startAngle),_2b5=_2b4,step,_2b6,_2b7,_2b8,_2b9,_2ba,run=this.run.data,_2bb=this.events();if(typeof run[0]=="number"){_2b6=df.map(run,"x ? Math.max(x, 0) : 0");if(df.every(_2b6,"<= 0")){return this;}_2b7=df.map(_2b6,"/this",df.foldl(_2b6,"+",0));if(this.opt.labels){_2b8=dojo.map(_2b7,function(x){return x>0?this._getLabel(x*100)+"%":"";},this);}}else{_2b6=df.map(run,"x ? Math.max(x.y, 0) : 0");if(df.every(_2b6,"<= 0")){return this;}_2b7=df.map(_2b6,"/this",df.foldl(_2b6,"+",0));if(this.opt.labels){_2b8=dojo.map(_2b7,function(x,i){if(x<=0){return "";}var v=run[i];return "text" in v?v.text:this._getLabel(x*100)+"%";},this);}}var _2bc=df.map(run,function(v,i){if(v===null||typeof v=="number"){return t.next("slice",[this.opt,this.run],true);}return t.next("slice",[this.opt,this.run,v],true);},this);if(this.opt.labels){_2b9=df.foldl1(df.map(_2b8,function(_2bd,i){var font=_2bc[i].series.font;return dojox.gfx._base._getTextBox(_2bd,{font:font}).w;},this),"Math.max(a, b)")/2;if(this.opt.labelOffset<0){r=Math.min(rx-2*_2b9,ry-size)+this.opt.labelOffset;}_2ba=r-this.opt.labelOffset;}if("radius" in this.opt){r=this.opt.radius;_2ba=r-this.opt.labelOffset;}var _2be={cx:_2b1.l+rx,cy:_2b1.t+ry,r:r};this.dyn=[];var _2bf=new Array(_2b7.length);dojo.some(_2b7,function(_2c0,i){if(_2c0<=0){return false;}var v=run[i],_2c1=_2bc[i],_2c2;if(_2c0>=1){_2c2=this._plotFill(_2c1.series.fill,dim,_2b1);_2c2=this._shapeFill(_2c2,{x:_2be.cx-_2be.r,y:_2be.cy-_2be.r,width:2*_2be.r,height:2*_2be.r});_2c2=this._pseudoRadialFill(_2c2,{x:_2be.cx,y:_2be.cy},_2be.r);var _2c3=s.createCircle(_2be).setFill(_2c2).setStroke(_2c1.series.stroke);this.dyn.push({fill:_2c2,stroke:_2c1.series.stroke});if(_2bb){var o={element:"slice",index:i,run:this.run,shape:_2c3,x:i,y:typeof v=="number"?v:v.y,cx:_2be.cx,cy:_2be.cy,cr:r};this._connectEvents(o);_2bf[i]=o;}return true;}var end=_2b5+_2c0*2*Math.PI;if(i+1==_2b7.length){end=_2b4+2*Math.PI;}var step=end-_2b5,x1=_2be.cx+r*Math.cos(_2b5),y1=_2be.cy+r*Math.sin(_2b5),x2=_2be.cx+r*Math.cos(end),y2=_2be.cy+r*Math.sin(end);var _2c4=m._degToRad(this.opt.fanSize);if(_2c1.series.fill&&_2c1.series.fill.type==="radial"&&this.opt.radGrad==="fan"&&step>_2c4){var _2c5=s.createGroup(),_2c6=Math.ceil(step/_2c4),_2c7=step/_2c6;_2c2=this._shapeFill(_2c1.series.fill,{x:_2be.cx-_2be.r,y:_2be.cy-_2be.r,width:2*_2be.r,height:2*_2be.r});for(var j=0;j<_2c6;++j){var _2c8=j==0?x1:_2be.cx+r*Math.cos(_2b5+(j-_2ae)*_2c7),_2c9=j==0?y1:_2be.cy+r*Math.sin(_2b5+(j-_2ae)*_2c7),_2ca=j==_2c6-1?x2:_2be.cx+r*Math.cos(_2b5+(j+1+_2ae)*_2c7),_2cb=j==_2c6-1?y2:_2be.cy+r*Math.sin(_2b5+(j+1+_2ae)*_2c7),fan=_2c5.createPath({}).moveTo(_2be.cx,_2be.cy).lineTo(_2c8,_2c9).arcTo(r,r,0,_2c7>Math.PI,true,_2ca,_2cb).lineTo(_2be.cx,_2be.cy).closePath().setFill(this._pseudoRadialFill(_2c2,{x:_2be.cx,y:_2be.cy},r,_2b5+(j+0.5)*_2c7,_2b5+(j+0.5)*_2c7));}_2c5.createPath({}).moveTo(_2be.cx,_2be.cy).lineTo(x1,y1).arcTo(r,r,0,step>Math.PI,true,x2,y2).lineTo(_2be.cx,_2be.cy).closePath().setStroke(_2c1.series.stroke);_2c3=_2c5;}else{_2c3=s.createPath({}).moveTo(_2be.cx,_2be.cy).lineTo(x1,y1).arcTo(r,r,0,step>Math.PI,true,x2,y2).lineTo(_2be.cx,_2be.cy).closePath().setStroke(_2c1.series.stroke);var _2c2=_2c1.series.fill;if(_2c2&&_2c2.type==="radial"){_2c2=this._shapeFill(_2c2,{x:_2be.cx-_2be.r,y:_2be.cy-_2be.r,width:2*_2be.r,height:2*_2be.r});if(this.opt.radGrad==="linear"){_2c2=this._pseudoRadialFill(_2c2,{x:_2be.cx,y:_2be.cy},r,_2b5,end);}}else{if(_2c2&&_2c2.type==="linear"){_2c2=this._plotFill(_2c2,dim,_2b1);_2c2=this._shapeFill(_2c2,_2c3.getBoundingBox());}}_2c3.setFill(_2c2);}this.dyn.push({fill:_2c2,stroke:_2c1.series.stroke});if(_2bb){var o={element:"slice",index:i,run:this.run,shape:_2c3,x:i,y:typeof v=="number"?v:v.y,cx:_2be.cx,cy:_2be.cy,cr:r};this._connectEvents(o);_2bf[i]=o;}_2b5=end;return false;},this);if(this.opt.labels){_2b5=_2b4;dojo.some(_2b7,function(_2cc,i){if(_2cc<=0){return false;}var _2cd=_2bc[i];if(_2cc>=1){var v=run[i],elem=da.createText[this.opt.htmlLabels&&dojox.gfx.renderer!="vml"?"html":"gfx"](this.chart,s,_2be.cx,_2be.cy+size/2,"middle",_2b8[i],_2cd.series.font,_2cd.series.fontColor);if(this.opt.htmlLabels){this.htmlElements.push(elem);}return true;}var end=_2b5+_2cc*2*Math.PI,v=run[i];if(i+1==_2b7.length){end=_2b4+2*Math.PI;}var _2ce=(_2b5+end)/2,x=_2be.cx+_2ba*Math.cos(_2ce),y=_2be.cy+_2ba*Math.sin(_2ce)+size/2;var elem=da.createText[this.opt.htmlLabels&&dojox.gfx.renderer!="vml"?"html":"gfx"](this.chart,s,x,y,"middle",_2b8[i],_2cd.series.font,_2cd.series.fontColor);if(this.opt.htmlLabels){this.htmlElements.push(elem);}_2b5=end;return false;},this);}var esi=0;this._eventSeries[this.run.name]=df.map(run,function(v){return v<=0?null:_2bf[esi++];});return this;},_getLabel:function(_2cf){return this.opt.fixed?dojo.number.format(_2cf,{places:this.opt.precision}):_2cf.toString();}});})();}if(!dojo._hasResource["dojox.charting.plot2d.Bubble"]){dojo._hasResource["dojox.charting.plot2d.Bubble"]=true;dojo.provide("dojox.charting.plot2d.Bubble");(function(){var df=dojox.lang.functional,du=dojox.lang.utils,dc=dojox.charting.plot2d.common,_2d0=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.Bubble",dojox.charting.plot2d.Base,{defaultParams:{hAxis:"x",vAxis:"y",animate:null},optionalParams:{stroke:{},outline:{},shadow:{},fill:{},font:"",fontColor:""},constructor:function(_2d1,_2d2){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_2d2);this.series=[];this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;this.animate=this.opt.animate;},render:function(dim,_2d3){if(this.zoom&&!this.isDataDirty()){return this.performZoom(dim,_2d3);}this.resetEvents();this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_2d0);this._eventSeries={};this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_2d4=this.events();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();if(!run.data.length){run.dirty=false;t.skip();continue;}if(typeof run.data[0]=="number"){continue;}var _2d5=t.next("circle",[this.opt,run]),s=run.group,_2d6=dojo.map(run.data,function(v,i){return v?{x:ht(v.x)+_2d3.l,y:dim.height-_2d3.b-vt(v.y),radius:this._vScaler.bounds.scale*(v.size/2)}:null;},this);var _2d7=null,_2d8=null,_2d9=null;if(_2d5.series.shadow){_2d9=dojo.map(_2d6,function(item){if(item!==null){var _2da=t.addMixin(_2d5,"circle",item,true),_2db=_2da.series.shadow;var _2dc=s.createCircle({cx:item.x+_2db.dx,cy:item.y+_2db.dy,r:item.radius}).setStroke(_2db).setFill(_2db.color);if(this.animate){this._animateBubble(_2dc,dim.height-_2d3.b,item.radius);}return _2dc;}return null;},this);if(_2d9.length){run.dyn.shadow=_2d9[_2d9.length-1].getStroke();}}if(_2d5.series.outline){_2d8=dojo.map(_2d6,function(item){if(item!==null){var _2dd=t.addMixin(_2d5,"circle",item,true),_2de=dc.makeStroke(_2dd.series.outline);_2de.width=2*_2de.width+_2d5.series.stroke.width;var _2df=s.createCircle({cx:item.x,cy:item.y,r:item.radius}).setStroke(_2de);if(this.animate){this._animateBubble(_2df,dim.height-_2d3.b,item.radius);}return _2df;}return null;},this);if(_2d8.length){run.dyn.outline=_2d8[_2d8.length-1].getStroke();}}_2d7=dojo.map(_2d6,function(item){if(item!==null){var _2e0=t.addMixin(_2d5,"circle",item,true),rect={x:item.x-item.radius,y:item.y-item.radius,width:2*item.radius,height:2*item.radius};var _2e1=this._plotFill(_2e0.series.fill,dim,_2d3);_2e1=this._shapeFill(_2e1,rect);var _2e2=s.createCircle({cx:item.x,cy:item.y,r:item.radius}).setFill(_2e1).setStroke(_2e0.series.stroke);if(this.animate){this._animateBubble(_2e2,dim.height-_2d3.b,item.radius);}return _2e2;}return null;},this);if(_2d7.length){run.dyn.fill=_2d7[_2d7.length-1].getFill();run.dyn.stroke=_2d7[_2d7.length-1].getStroke();}if(_2d4){var _2e3=new Array(_2d7.length);dojo.forEach(_2d7,function(s,i){if(s!==null){var o={element:"circle",index:i,run:run,shape:s,outline:_2d8&&_2d8[i]||null,shadow:_2d9&&_2d9[i]||null,x:run.data[i].x,y:run.data[i].y,r:run.data[i].size/2,cx:_2d6[i].x,cy:_2d6[i].y,cr:_2d6[i].radius};this._connectEvents(o);_2e3[i]=o;}},this);this._eventSeries[run.name]=_2e3;}else{delete this._eventSeries[run.name];}run.dirty=false;}this.dirty=false;return this;},_animateBubble:function(_2e4,_2e5,size){dojox.gfx.fx.animateTransform(dojo.delegate({shape:_2e4,duration:1200,transform:[{name:"translate",start:[0,_2e5],end:[0,0]},{name:"scale",start:[0,1/size],end:[1,1]},{name:"original"}]},this.animate)).play();}});})();}if(!dojo._hasResource["dojox.charting.plot2d.Candlesticks"]){dojo._hasResource["dojox.charting.plot2d.Candlesticks"]=true;dojo.provide("dojox.charting.plot2d.Candlesticks");(function(){var df=dojox.lang.functional,du=dojox.lang.utils,dc=dojox.charting.plot2d.common,_2e6=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.Candlesticks",dojox.charting.plot2d.Base,{defaultParams:{hAxis:"x",vAxis:"y",gap:2,animate:null},optionalParams:{minBarSize:1,maxBarSize:1,stroke:{},outline:{},shadow:{},fill:{},font:"",fontColor:""},constructor:function(_2e7,_2e8){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_2e8);du.updateWithPattern(this.opt,_2e8,this.optionalParams);this.series=[];this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;this.animate=this.opt.animate;},collectStats:function(_2e9){var _2ea=dojo.delegate(dc.defaultStats);for(var i=0;i<_2e9.length;i++){var run=_2e9[i];if(!run.data.length){continue;}var _2eb=_2ea.vmin,_2ec=_2ea.vmax;if(!("ymin" in run)||!("ymax" in run)){dojo.forEach(run.data,function(val,idx){if(val!==null){var x=val.x||idx+1;_2ea.hmin=Math.min(_2ea.hmin,x);_2ea.hmax=Math.max(_2ea.hmax,x);_2ea.vmin=Math.min(_2ea.vmin,val.open,val.close,val.high,val.low);_2ea.vmax=Math.max(_2ea.vmax,val.open,val.close,val.high,val.low);}});}if("ymin" in run){_2ea.vmin=Math.min(_2eb,run.ymin);}if("ymax" in run){_2ea.vmax=Math.max(_2ec,run.ymax);}}return _2ea;},getSeriesStats:function(){var _2ed=this.collectStats(this.series);_2ed.hmin-=0.5;_2ed.hmax+=0.5;return _2ed;},render:function(dim,_2ee){if(this.zoom&&!this.isDataDirty()){return this.performZoom(dim,_2ee);}this.resetEvents();this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_2e6);this._eventSeries={};this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,f,gap,_2ef,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_2f0=Math.max(0,this._vScaler.bounds.lower),_2f1=vt(_2f0),_2f2=this.events();f=dc.calculateBarSize(this._hScaler.bounds.scale,this.opt);gap=f.gap;_2ef=f.size;for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();var _2f3=t.next("candlestick",[this.opt,run]),s=run.group,_2f4=new Array(run.data.length);for(var j=0;j<run.data.length;++j){var v=run.data[j];if(v!==null){var _2f5=t.addMixin(_2f3,"candlestick",v,true);var x=ht(v.x||(j+0.5))+_2ee.l+gap,y=dim.height-_2ee.b,open=vt(v.open),_2f6=vt(v.close),high=vt(v.high),low=vt(v.low);if("mid" in v){var mid=vt(v.mid);}if(low>high){var tmp=high;high=low;low=tmp;}if(_2ef>=1){var _2f7=open>_2f6;var line={x1:_2ef/2,x2:_2ef/2,y1:y-high,y2:y-low},rect={x:0,y:y-Math.max(open,_2f6),width:_2ef,height:Math.max(_2f7?open-_2f6:_2f6-open,1)};shape=s.createGroup();shape.setTransform({dx:x,dy:0});var _2f8=shape.createGroup();_2f8.createLine(line).setStroke(_2f5.series.stroke);_2f8.createRect(rect).setStroke(_2f5.series.stroke).setFill(_2f7?_2f5.series.fill:"white");if("mid" in v){_2f8.createLine({x1:(_2f5.series.stroke.width||1),x2:_2ef-(_2f5.series.stroke.width||1),y1:y-mid,y2:y-mid}).setStroke(_2f7?"white":_2f5.series.stroke);}run.dyn.fill=_2f5.series.fill;run.dyn.stroke=_2f5.series.stroke;if(_2f2){var o={element:"candlestick",index:j,run:run,shape:_2f8,x:x,y:y-Math.max(open,_2f6),cx:_2ef/2,cy:(y-Math.max(open,_2f6))+(Math.max(_2f7?open-_2f6:_2f6-open,1)/2),width:_2ef,height:Math.max(_2f7?open-_2f6:_2f6-open,1),data:v};this._connectEvents(o);_2f4[j]=o;}}if(this.animate){this._animateCandlesticks(shape,y-low,high-low);}}}this._eventSeries[run.name]=_2f4;run.dirty=false;}this.dirty=false;return this;},_animateCandlesticks:function(_2f9,_2fa,_2fb){dojox.gfx.fx.animateTransform(dojo.delegate({shape:_2f9,duration:1200,transform:[{name:"translate",start:[0,_2fa-(_2fa/_2fb)],end:[0,0]},{name:"scale",start:[1,1/_2fb],end:[1,1]},{name:"original"}]},this.animate)).play();}});})();}if(!dojo._hasResource["dojox.charting.plot2d.OHLC"]){dojo._hasResource["dojox.charting.plot2d.OHLC"]=true;dojo.provide("dojox.charting.plot2d.OHLC");(function(){var df=dojox.lang.functional,du=dojox.lang.utils,dc=dojox.charting.plot2d.common,_2fc=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.OHLC",dojox.charting.plot2d.Base,{defaultParams:{hAxis:"x",vAxis:"y",gap:2,animate:null},optionalParams:{minBarSize:1,maxBarSize:1,stroke:{},outline:{},shadow:{},fill:{},font:"",fontColor:""},constructor:function(_2fd,_2fe){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_2fe);du.updateWithPattern(this.opt,_2fe,this.optionalParams);this.series=[];this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;this.animate=this.opt.animate;},collectStats:function(_2ff){var _300=dojo.delegate(dc.defaultStats);for(var i=0;i<_2ff.length;i++){var run=_2ff[i];if(!run.data.length){continue;}var _301=_300.vmin,_302=_300.vmax;if(!("ymin" in run)||!("ymax" in run)){dojo.forEach(run.data,function(val,idx){if(val!==null){var x=val.x||idx+1;_300.hmin=Math.min(_300.hmin,x);_300.hmax=Math.max(_300.hmax,x);_300.vmin=Math.min(_300.vmin,val.open,val.close,val.high,val.low);_300.vmax=Math.max(_300.vmax,val.open,val.close,val.high,val.low);}});}if("ymin" in run){_300.vmin=Math.min(_301,run.ymin);}if("ymax" in run){_300.vmax=Math.max(_302,run.ymax);}}return _300;},getSeriesStats:function(){var _303=this.collectStats(this.series);_303.hmin-=0.5;_303.hmax+=0.5;return _303;},render:function(dim,_304){if(this.zoom&&!this.isDataDirty()){return this.performZoom(dim,_304);}this.resetEvents();this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_2fc);this._eventSeries={};this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,f,gap,_305,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_306=Math.max(0,this._vScaler.bounds.lower),_307=vt(_306),_308=this.events();f=dc.calculateBarSize(this._hScaler.bounds.scale,this.opt);gap=f.gap;_305=f.size;for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();var _309=t.next("candlestick",[this.opt,run]),s=run.group,_30a=new Array(run.data.length);for(var j=0;j<run.data.length;++j){var v=run.data[j];if(v!==null){var _30b=t.addMixin(_309,"candlestick",v,true);var x=ht(v.x||(j+0.5))+_304.l+gap,y=dim.height-_304.b,open=vt(v.open),_30c=vt(v.close),high=vt(v.high),low=vt(v.low);if(low>high){var tmp=high;high=low;low=tmp;}if(_305>=1){var hl={x1:_305/2,x2:_305/2,y1:y-high,y2:y-low},op={x1:0,x2:((_305/2)+((_30b.series.stroke.width||1)/2)),y1:y-open,y2:y-open},cl={x1:((_305/2)-((_30b.series.stroke.width||1)/2)),x2:_305,y1:y-_30c,y2:y-_30c};shape=s.createGroup();shape.setTransform({dx:x,dy:0});var _30d=shape.createGroup();_30d.createLine(hl).setStroke(_30b.series.stroke);_30d.createLine(op).setStroke(_30b.series.stroke);_30d.createLine(cl).setStroke(_30b.series.stroke);run.dyn.stroke=_30b.series.stroke;if(_308){var o={element:"candlestick",index:j,run:run,shape:_30d,x:x,y:y-Math.max(open,_30c),cx:_305/2,cy:(y-Math.max(open,_30c))+(Math.max(open>_30c?open-_30c:_30c-open,1)/2),width:_305,height:Math.max(open>_30c?open-_30c:_30c-open,1),data:v};this._connectEvents(o);_30a[j]=o;}}if(this.animate){this._animateOHLC(shape,y-low,high-low);}}}this._eventSeries[run.name]=_30a;run.dirty=false;}this.dirty=false;return this;},_animateOHLC:function(_30e,_30f,_310){dojox.gfx.fx.animateTransform(dojo.delegate({shape:_30e,duration:1200,transform:[{name:"translate",start:[0,_30f-(_30f/_310)],end:[0,0]},{name:"scale",start:[1,1/_310],end:[1,1]},{name:"original"}]},this.animate)).play();}});})();}if(!dojo._hasResource["dojox.charting.Chart2D"]){dojo._hasResource["dojox.charting.Chart2D"]=true;dojo.provide("dojox.charting.Chart2D");(function(){var df=dojox.lang.functional,dc=dojox.charting,_311=df.lambda("item.clear()"),_312=df.lambda("item.purgeGroup()"),_313=df.lambda("item.destroy()"),_314=df.lambda("item.dirty = false"),_315=df.lambda("item.dirty = true"),_316=df.lambda("item.name");dojo.declare("dojox.charting.Chart2D",null,{constructor:function(node,_317){if(!_317){_317={};}this.margins=_317.margins?_317.margins:{l:10,t:10,r:10,b:10};this.stroke=_317.stroke;this.fill=_317.fill;this.delayInMs=_317.delayInMs||200;this.theme=null;this.axes={};this.stack=[];this.plots={};this.series=[];this.runs={};this.dirty=true;this.coords=null;this.node=dojo.byId(node);var box=dojo.marginBox(node);this.surface=dojox.gfx.createSurface(this.node,box.w||400,box.h||300);},destroy:function(){dojo.forEach(this.series,_313);dojo.forEach(this.stack,_313);df.forIn(this.axes,_313);this.surface.destroy();},getCoords:function(){if(!this.coords){this.coords=dojo.coords(this.node,true);}return this.coords;},setTheme:function(_318){this.theme=_318.clone();this.dirty=true;return this;},addAxis:function(name,_319){var axis;if(!_319||!("type" in _319)){axis=new dc.axis2d.Default(this,_319);}else{axis=typeof _319.type=="string"?new dc.axis2d[_319.type](this,_319):new _319.type(this,_319);}axis.name=name;axis.dirty=true;if(name in this.axes){this.axes[name].destroy();}this.axes[name]=axis;this.dirty=true;return this;},getAxis:function(name){return this.axes[name];},removeAxis:function(name){if(name in this.axes){this.axes[name].destroy();delete this.axes[name];this.dirty=true;}return this;},addPlot:function(name,_31a){var plot;if(!_31a||!("type" in _31a)){plot=new dc.plot2d.Default(this,_31a);}else{plot=typeof _31a.type=="string"?new dc.plot2d[_31a.type](this,_31a):new _31a.type(this,_31a);}plot.name=name;plot.dirty=true;if(name in this.plots){this.stack[this.plots[name]].destroy();this.stack[this.plots[name]]=plot;}else{this.plots[name]=this.stack.length;this.stack.push(plot);}this.dirty=true;return this;},removePlot:function(name){if(name in this.plots){var _31b=this.plots[name];delete this.plots[name];this.stack[_31b].destroy();this.stack.splice(_31b,1);df.forIn(this.plots,function(idx,name,_31c){if(idx>_31b){_31c[name]=idx-1;}});this.dirty=true;}return this;},getPlotOrder:function(){return df.map(this.stack,_316);},setPlotOrder:function(_31d){var _31e={},_31f=df.filter(_31d,function(name){if(!(name in this.plots)||(name in _31e)){return false;}_31e[name]=1;return true;},this);if(_31f.length<this.stack.length){df.forEach(this.stack,function(plot){var name=plot.name;if(!(name in _31e)){_31f.push(name);}});}var _320=df.map(_31f,function(name){return this.stack[this.plots[name]];},this);df.forEach(_320,function(plot,i){this.plots[plot.name]=i;},this);this.stack=_320;this.dirty=true;return this;},movePlotToFront:function(name){if(name in this.plots){var _321=this.plots[name];if(_321){var _322=this.getPlotOrder();_322.splice(_321,1);_322.unshift(name);return this.setPlotOrder(_322);}}return this;},movePlotToBack:function(name){if(name in this.plots){var _323=this.plots[name];if(_323<this.stack.length-1){var _324=this.getPlotOrder();_324.splice(_323,1);_324.push(name);return this.setPlotOrder(_324);}}return this;},addSeries:function(name,data,_325){var run=new dc.Series(this,data,_325);run.name=name;if(name in this.runs){this.series[this.runs[name]].destroy();this.series[this.runs[name]]=run;}else{this.runs[name]=this.series.length;this.series.push(run);}this.dirty=true;if(!("ymin" in run)&&"min" in run){run.ymin=run.min;}if(!("ymax" in run)&&"max" in run){run.ymax=run.max;}return this;},removeSeries:function(name){if(name in this.runs){var _326=this.runs[name],_327=this.series[_326].plot;delete this.runs[name];this.series[_326].destroy();this.series.splice(_326,1);df.forIn(this.runs,function(idx,name,runs){if(idx>_326){runs[name]=idx-1;}});this.dirty=true;}return this;},updateSeries:function(name,data){if(name in this.runs){var run=this.series[this.runs[name]];run.update(data);this._invalidateDependentPlots(run.plot,false);this._invalidateDependentPlots(run.plot,true);}return this;},getSeriesOrder:function(_328){return df.map(df.filter(this.series,function(run){return run.plot==_328;}),_316);},setSeriesOrder:function(_329){var _32a,_32b={},_32c=df.filter(_329,function(name){if(!(name in this.runs)||(name in _32b)){return false;}var run=this.series[this.runs[name]];if(_32a){if(run.plot!=_32a){return false;}}else{_32a=run.plot;}_32b[name]=1;return true;},this);df.forEach(this.series,function(run){var name=run.name;if(!(name in _32b)&&run.plot==_32a){_32c.push(name);}});var _32d=df.map(_32c,function(name){return this.series[this.runs[name]];},this);this.series=_32d.concat(df.filter(this.series,function(run){return run.plot!=_32a;}));df.forEach(this.series,function(run,i){this.runs[run.name]=i;},this);this.dirty=true;return this;},moveSeriesToFront:function(name){if(name in this.runs){var _32e=this.runs[name],_32f=this.getSeriesOrder(this.series[_32e].plot);if(name!=_32f[0]){_32f.splice(_32e,1);_32f.unshift(name);return this.setSeriesOrder(_32f);}}return this;},moveSeriesToBack:function(name){if(name in this.runs){var _330=this.runs[name],_331=this.getSeriesOrder(this.series[_330].plot);if(name!=_331[_331.length-1]){_331.splice(_330,1);_331.push(name);return this.setSeriesOrder(_331);}}return this;},resize:function(_332,_333){var box;switch(arguments.length){case 0:box=dojo.marginBox(this.node);break;case 1:box=_332;break;default:box={w:_332,h:_333};break;}dojo.marginBox(this.node,box);this.surface.setDimensions(box.w,box.h);this.dirty=true;this.coords=null;return this.render();},getGeometry:function(){var ret={};df.forIn(this.axes,function(axis){if(axis.initialized()){ret[axis.name]={name:axis.name,vertical:axis.vertical,scaler:axis.scaler,ticks:axis.ticks};}});return ret;},setAxisWindow:function(name,_334,_335,zoom){var axis=this.axes[name];if(axis){axis.setWindow(_334,_335);dojo.forEach(this.stack,function(plot){if(plot.hAxis==name||plot.vAxis==name){plot.zoom=zoom;}});}return this;},setWindow:function(sx,sy,dx,dy,zoom){if(!("plotArea" in this)){this.calculateGeometry();}df.forIn(this.axes,function(axis){var _336,_337,_338=axis.getScaler().bounds,s=_338.span/(_338.upper-_338.lower);if(axis.vertical){_336=sy;_337=dy/s/_336;}else{_336=sx;_337=dx/s/_336;}axis.setWindow(_336,_337);});dojo.forEach(this.stack,function(plot){plot.zoom=zoom;});return this;},zoomIn:function(name,_339){var axis=this.axes[name];if(axis){var _33a,_33b,_33c=axis.getScaler().bounds;var _33d=Math.min(_339[0],_339[1]);var _33e=Math.max(_339[0],_339[1]);_33d=_339[0]<_33c.lower?_33c.lower:_33d;_33e=_339[1]>_33c.upper?_33c.upper:_33e;_33a=(_33c.upper-_33c.lower)/(_33e-_33d);_33b=_33d-_33c.lower;this.setAxisWindow(name,_33a,_33b);this.render();}},calculateGeometry:function(){if(this.dirty){return this.fullGeometry();}var _33f=dojo.filter(this.stack,function(plot){return plot.dirty||(plot.hAxis&&this.axes[plot.hAxis].dirty)||(plot.vAxis&&this.axes[plot.vAxis].dirty);},this);_340(_33f,this.plotArea);return this;},fullGeometry:function(){this._makeDirty();dojo.forEach(this.stack,_311);if(!this.theme){this.setTheme(new dojox.charting.Theme(dojox.charting._def));}dojo.forEach(this.series,function(run){if(!(run.plot in this.plots)){var plot=new dc.plot2d.Default(this,{});plot.name=run.plot;this.plots[run.plot]=this.stack.length;this.stack.push(plot);}this.stack[this.plots[run.plot]].addSeries(run);},this);dojo.forEach(this.stack,function(plot){if(plot.hAxis){plot.setAxis(this.axes[plot.hAxis]);}if(plot.vAxis){plot.setAxis(this.axes[plot.vAxis]);}},this);var dim=this.dim=this.surface.getDimensions();dim.width=dojox.gfx.normalizedLength(dim.width);dim.height=dojox.gfx.normalizedLength(dim.height);df.forIn(this.axes,_311);_340(this.stack,dim);var _341=this.offsets={l:0,r:0,t:0,b:0};df.forIn(this.axes,function(axis){df.forIn(axis.getOffsets(),function(o,i){_341[i]+=o;});});df.forIn(this.margins,function(o,i){_341[i]+=o;});this.plotArea={width:dim.width-_341.l-_341.r,height:dim.height-_341.t-_341.b};df.forIn(this.axes,_311);_340(this.stack,this.plotArea);return this;},render:function(){if(this.theme){this.theme.clear();}if(this.dirty){return this.fullRender();}this.calculateGeometry();df.forEachRev(this.stack,function(plot){plot.render(this.dim,this.offsets);},this);df.forIn(this.axes,function(axis){axis.render(this.dim,this.offsets);},this);this._makeClean();if(this.surface.render){this.surface.render();}return this;},fullRender:function(){this.fullGeometry();var _342=this.offsets,dim=this.dim;dojo.forEach(this.series,_312);df.forIn(this.axes,_312);dojo.forEach(this.stack,_312);this.surface.clear();var t=this.theme,fill=t.plotarea&&t.plotarea.fill,_343=t.plotarea&&t.plotarea.stroke;if(fill){this.surface.createRect({x:_342.l-1,y:_342.t-1,width:dim.width-_342.l-_342.r+2,height:dim.height-_342.t-_342.b+2}).setFill(fill);}if(_343){this.surface.createRect({x:_342.l,y:_342.t,width:dim.width-_342.l-_342.r+1,height:dim.height-_342.t-_342.b+1}).setStroke(_343);}df.foldr(this.stack,function(z,plot){return plot.render(dim,_342),0;},0);fill=this.fill!==undefined?this.fill:(t.chart&&t.chart.fill);_343=this.stroke!==undefined?this.stroke:(t.chart&&t.chart.stroke);if(fill=="inherit"){var node=this.node,fill=new dojo.Color(dojo.style(node,"backgroundColor"));while(fill.a==0&&node!=document.documentElement){fill=new dojo.Color(dojo.style(node,"backgroundColor"));node=node.parentNode;}}if(fill){if(_342.l){this.surface.createRect({width:_342.l,height:dim.height+1}).setFill(fill);}if(_342.r){this.surface.createRect({x:dim.width-_342.r,width:_342.r+1,height:dim.height+2}).setFill(fill);}if(_342.t){this.surface.createRect({width:dim.width+1,height:_342.t}).setFill(fill);}if(_342.b){this.surface.createRect({y:dim.height-_342.b,width:dim.width+1,height:_342.b+2}).setFill(fill);}}if(_343){this.surface.createRect({width:dim.width-1,height:dim.height-1}).setStroke(_343);}df.forIn(this.axes,function(axis){axis.render(dim,_342);});this._makeClean();if(this.surface.render){this.surface.render();}return this;},delayedRender:function(){if(!this._delayedRenderHandle){this._delayedRenderHandle=setTimeout(dojo.hitch(this,function(){clearTimeout(this._delayedRenderHandle);this._delayedRenderHandle=null;this.render();}),this.delayInMs);}return this;},connectToPlot:function(name,_344,_345){return name in this.plots?this.stack[this.plots[name]].connect(_344,_345):null;},fireEvent:function(_346,_347,_348){if(_346 in this.runs){var _349=this.series[this.runs[_346]].plot;if(_349 in this.plots){var plot=this.stack[this.plots[_349]];if(plot){plot.fireEvent(_346,_347,_348);}}}return this;},_makeClean:function(){dojo.forEach(this.axes,_314);dojo.forEach(this.stack,_314);dojo.forEach(this.series,_314);this.dirty=false;},_makeDirty:function(){dojo.forEach(this.axes,_315);dojo.forEach(this.stack,_315);dojo.forEach(this.series,_315);this.dirty=true;},_invalidateDependentPlots:function(_34a,_34b){if(_34a in this.plots){var plot=this.stack[this.plots[_34a]],axis,_34c=_34b?"vAxis":"hAxis";if(plot[_34c]){axis=this.axes[plot[_34c]];if(axis&&axis.dependOnData()){axis.dirty=true;dojo.forEach(this.stack,function(p){if(p[_34c]&&p[_34c]==plot[_34c]){p.dirty=true;}});}}else{plot.dirty=true;}}}});function _34d(_34e){return {min:_34e.hmin,max:_34e.hmax};};function _34f(_350){return {min:_350.vmin,max:_350.vmax};};function _351(_352,h){_352.hmin=h.min;_352.hmax=h.max;};function _353(_354,v){_354.vmin=v.min;_354.vmax=v.max;};function _355(_356,_357){if(_356&&_357){_356.min=Math.min(_356.min,_357.min);_356.max=Math.max(_356.max,_357.max);}return _356||_357;};function _340(_358,_359){var _35a={},axes={};dojo.forEach(_358,function(plot){var _35b=_35a[plot.name]=plot.getSeriesStats();if(plot.hAxis){axes[plot.hAxis]=_355(axes[plot.hAxis],_34d(_35b));}if(plot.vAxis){axes[plot.vAxis]=_355(axes[plot.vAxis],_34f(_35b));}});dojo.forEach(_358,function(plot){var _35c=_35a[plot.name];if(plot.hAxis){_351(_35c,axes[plot.hAxis]);}if(plot.vAxis){_353(_35c,axes[plot.vAxis]);}plot.initializeScalers(_359,_35c);});};})();}if(!dojo._hasResource["dojox.charting.themes.PlotKit.base"]){dojo._hasResource["dojox.charting.themes.PlotKit.base"]=true;dojo.provide("dojox.charting.themes.PlotKit.base");(function(){var dc=dojox.charting,pk=dc.themes.PlotKit;pk.base=new dc.Theme({chart:{stroke:null,fill:"yellow"},plotarea:{stroke:null,fill:"yellow"},axis:{stroke:{color:"#fff",width:1},line:{color:"#fff",width:0.5},majorTick:{color:"#fff",width:0.5,length:6},minorTick:{color:"#fff",width:0.5,length:3},tick:{font:"normal normal normal 7pt Helvetica,Arial,sans-serif",fontColor:"#999"}},series:{stroke:{width:2.5,color:"#fff"},fill:"#666",font:"normal normal normal 7.5pt Helvetica,Arial,sans-serif",fontColor:"#666"},marker:{stroke:{width:2},fill:"#333",font:"normal normal normal 7pt Helvetica,Arial,sans-serif",fontColor:"#666"},colors:["red","green","blue"]});pk.base.next=function(_35d,_35e,_35f){var _360=dc.Theme.prototype.next.apply(this,arguments);if(_35d=="line"){_360.marker.outline={width:2,color:"#fff"};_360.series.stroke.width=3.5;_360.marker.stroke.width=2;}else{if(_35d=="candlestick"){_360.series.stroke.width=1;}else{_360.series.stroke.color="#fff";}}return _360;};})();}if(!dojo._hasResource["dojox.charting.themes.PlotKit.blue"]){dojo._hasResource["dojox.charting.themes.PlotKit.blue"]=true;dojo.provide("dojox.charting.themes.PlotKit.blue");(function(){var dc=dojox.charting,pk=dc.themes.PlotKit;pk.blue=pk.base.clone();pk.blue.chart.fill=pk.blue.plotarea.fill="#e7eef6";pk.blue.colors=dc.Theme.defineColors({hue:217,saturation:60,low:40,high:88});})();}if(!dojo._hasResource["dojox.collections._base"]){dojo._hasResource["dojox.collections._base"]=true;dojo.provide("dojox.collections._base");dojox.collections.DictionaryEntry=function(k,v){this.key=k;this.value=v;this.valueOf=function(){return this.value;};this.toString=function(){return String(this.value);};};dojox.collections.Iterator=function(arr){var a=arr;var _361=0;this.element=a[_361]||null;this.atEnd=function(){return (_361>=a.length);};this.get=function(){if(this.atEnd()){return null;}this.element=a[_361++];return this.element;};this.map=function(fn,_362){return dojo.map(a,fn,_362);};this.reset=function(){_361=0;this.element=a[_361];};};dojox.collections.DictionaryIterator=function(obj){var a=[];var _363={};for(var p in obj){if(!_363[p]){a.push(obj[p]);}}var _364=0;this.element=a[_364]||null;this.atEnd=function(){return (_364>=a.length);};this.get=function(){if(this.atEnd()){return null;}this.element=a[_364++];return this.element;};this.map=function(fn,_365){return dojo.map(a,fn,_365);};this.reset=function(){_364=0;this.element=a[_364];};};}if(!dojo._hasResource["dojox.collections.Dictionary"]){dojo._hasResource["dojox.collections.Dictionary"]=true;dojo.provide("dojox.collections.Dictionary");dojox.collections.Dictionary=function(_366){var _367={};this.count=0;var _368={};this.add=function(k,v){var b=(k in _367);_367[k]=new dojox.collections.DictionaryEntry(k,v);if(!b){this.count++;}};this.clear=function(){_367={};this.count=0;};this.clone=function(){return new dojox.collections.Dictionary(this);};this.contains=this.containsKey=function(k){if(_368[k]){return false;}return (_367[k]!=null);};this.containsValue=function(v){var e=this.getIterator();while(e.get()){if(e.element.value==v){return true;}}return false;};this.entry=function(k){return _367[k];};this.forEach=function(fn,_369){var a=[];for(var p in _367){if(!_368[p]){a.push(_367[p]);}}dojo.forEach(a,fn,_369);};this.getKeyList=function(){return (this.getIterator()).map(function(_36a){return _36a.key;});};this.getValueList=function(){return (this.getIterator()).map(function(_36b){return _36b.value;});};this.item=function(k){if(k in _367){return _367[k].valueOf();}return undefined;};this.getIterator=function(){return new dojox.collections.DictionaryIterator(_367);};this.remove=function(k){if(k in _367&&!_368[k]){delete _367[k];this.count--;return true;}return false;};if(_366){var e=_366.getIterator();while(e.get()){this.add(e.element.key,e.element.value);}}};}if(!dojo._hasResource["dojo.fx.easing"]){dojo._hasResource["dojo.fx.easing"]=true;dojo.provide("dojo.fx.easing");dojo.fx.easing={linear:function(n){return n;},quadIn:function(n){return Math.pow(n,2);},quadOut:function(n){return n*(n-2)*-1;},quadInOut:function(n){n=n*2;if(n<1){return Math.pow(n,2)/2;}return -1*((--n)*(n-2)-1)/2;},cubicIn:function(n){return Math.pow(n,3);},cubicOut:function(n){return Math.pow(n-1,3)+1;},cubicInOut:function(n){n=n*2;if(n<1){return Math.pow(n,3)/2;}n-=2;return (Math.pow(n,3)+2)/2;},quartIn:function(n){return Math.pow(n,4);},quartOut:function(n){return -1*(Math.pow(n-1,4)-1);},quartInOut:function(n){n=n*2;if(n<1){return Math.pow(n,4)/2;}n-=2;return -1/2*(Math.pow(n,4)-2);},quintIn:function(n){return Math.pow(n,5);},quintOut:function(n){return Math.pow(n-1,5)+1;},quintInOut:function(n){n=n*2;if(n<1){return Math.pow(n,5)/2;}n-=2;return (Math.pow(n,5)+2)/2;},sineIn:function(n){return -1*Math.cos(n*(Math.PI/2))+1;},sineOut:function(n){return Math.sin(n*(Math.PI/2));},sineInOut:function(n){return -1*(Math.cos(Math.PI*n)-1)/2;},expoIn:function(n){return (n==0)?0:Math.pow(2,10*(n-1));},expoOut:function(n){return (n==1)?1:(-1*Math.pow(2,-10*n)+1);},expoInOut:function(n){if(n==0){return 0;}if(n==1){return 1;}n=n*2;if(n<1){return Math.pow(2,10*(n-1))/2;}--n;return (-1*Math.pow(2,-10*n)+2)/2;},circIn:function(n){return -1*(Math.sqrt(1-Math.pow(n,2))-1);},circOut:function(n){n=n-1;return Math.sqrt(1-Math.pow(n,2));},circInOut:function(n){n=n*2;if(n<1){return -1/2*(Math.sqrt(1-Math.pow(n,2))-1);}n-=2;return 1/2*(Math.sqrt(1-Math.pow(n,2))+1);},backIn:function(n){var s=1.70158;return Math.pow(n,2)*((s+1)*n-s);},backOut:function(n){n=n-1;var s=1.70158;return Math.pow(n,2)*((s+1)*n+s)+1;},backInOut:function(n){var s=1.70158*1.525;n=n*2;if(n<1){return (Math.pow(n,2)*((s+1)*n-s))/2;}n-=2;return (Math.pow(n,2)*((s+1)*n+s)+2)/2;},elasticIn:function(n){if(n==0||n==1){return n;}var p=0.3;var s=p/4;n=n-1;return -1*Math.pow(2,10*n)*Math.sin((n-s)*(2*Math.PI)/p);},elasticOut:function(n){if(n==0||n==1){return n;}var p=0.3;var s=p/4;return Math.pow(2,-10*n)*Math.sin((n-s)*(2*Math.PI)/p)+1;},elasticInOut:function(n){if(n==0){return 0;}n=n*2;if(n==2){return 1;}var p=0.3*1.5;var s=p/4;if(n<1){n-=1;return -0.5*(Math.pow(2,10*n)*Math.sin((n-s)*(2*Math.PI)/p));}n-=1;return 0.5*(Math.pow(2,-10*n)*Math.sin((n-s)*(2*Math.PI)/p))+1;},bounceIn:function(n){return (1-dojo.fx.easing.bounceOut(1-n));},bounceOut:function(n){var s=7.5625;var p=2.75;var l;if(n<(1/p)){l=s*Math.pow(n,2);}else{if(n<(2/p)){n-=(1.5/p);l=s*Math.pow(n,2)+0.75;}else{if(n<(2.5/p)){n-=(2.25/p);l=s*Math.pow(n,2)+0.9375;}else{n-=(2.625/p);l=s*Math.pow(n,2)+0.984375;}}}return l;},bounceInOut:function(n){if(n<0.5){return dojo.fx.easing.bounceIn(n*2)/2;}return (dojo.fx.easing.bounceOut(n*2-1)/2)+0.5;}};}if(!dojo._hasResource["dojox.fx.easing"]){dojo._hasResource["dojox.fx.easing"]=true;dojo.provide("dojox.fx.easing");dojo.deprecated("dojox.fx.easing","Upgraded to Core, use dojo.fx.easing instead","2.0");dojox.fx.easing=dojo.fx.easing;}
